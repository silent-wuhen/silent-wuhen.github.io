<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>Oracle数据库 | My Blog</title><meta name="author" content="HQH"><meta name="copyright" content="HQH"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="ffffff"><meta name="description" content="还没开始写，先挖一个坑">
<meta property="og:type" content="article">
<meta property="og:title" content="Oracle数据库">
<meta property="og:url" content="http://example.com/2023/11/28/1.%E8%AE%A1%E7%AE%97%E6%9C%BA/2.%E5%A4%A7%E6%95%B0%E6%8D%AE/13.Oracle/index.html">
<meta property="og:site_name" content="My Blog">
<meta property="og:description" content="还没开始写，先挖一个坑">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://example.com/img/%E5%9B%BE%E7%89%87/015.jpg">
<meta property="article:published_time" content="2023-11-28T15:16:12.000Z">
<meta property="article:modified_time" content="2023-11-28T11:38:27.207Z">
<meta property="article:author" content="HQH">
<meta property="article:tag" content="大数据">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/img/%E5%9B%BE%E7%89%87/015.jpg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://example.com/2023/11/28/1.%E8%AE%A1%E7%AE%97%E6%9C%BA/2.%E5%A4%A7%E6%95%B0%E6%8D%AE/13.Oracle/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":true,"top_n_per_article":1,"unescape":false,"languages":{"hits_empty":"找不到您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":200},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"你已切换为繁体中文","cht_to_chs":"你已切换为简体中文","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#49b1f5","bgDark":"#1f1f1f","position":"top-right"},
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: true,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Oracle数据库',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2023-11-28 19:38:27'
}</script><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', 'ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          const now = new Date()
          const hour = now.getHours()
          const isNight = hour <= 6 || hour >= 18
          if (t === undefined) isNight ? activateDarkMode() : activateLightMode()
          else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><link rel="stylesheet" href="/css/custom.css" media="defer" onload="this.media='all'"><!-- hexo injector head_end start --><link rel="stylesheet" href="https://www.fomal.cc/static/css/runtime.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-wowjs/lib/animate.min.css" media="print" onload="this.media='screen'"><!-- hexo injector head_end end --><meta name="generator" content="Hexo 7.0.0"></head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/touxiang.JPG" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">7</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">4</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">4</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('/img/%E5%9B%BE%E7%89%87/015.jpg')"><nav id="nav"><span id="blog-info"><a href="/" title="My Blog"></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><!-- span=' '+_p('search.title')--></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">Oracle数据库</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2023-11-28T15:16:12.000Z" title="发表于 2023-11-28 23:16:12">2023-11-28</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2023-11-28T11:38:27.207Z" title="更新于 2023-11-28 19:38:27">2023-11-28</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA/">计算机</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">13.9k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>50分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="Oracle数据库"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>推荐视频：<a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1ZV411c7rs/?spm_id_from=333.337.search-card.all.click&vd_source=bd0b10b1a89eeb70aae017bf4b5233c3">千峰</a></p>
<p>与MySQL语法非常接近，学习速度会非常快。</p>
<h1 id="第一章-概论"><a href="#第一章-概论" class="headerlink" title="第一章 概论"></a>第一章 概论</h1><h2 id="数据库系统概述"><a href="#数据库系统概述" class="headerlink" title="数据库系统概述"></a>数据库系统概述</h2><h3 id="数据库"><a href="#数据库" class="headerlink" title="数据库"></a>数据库</h3><ol>
<li><p>数据(Data)：是事物的符号表示，数据的种类有数字、文字、图像、声音等，可以用数字化后的二进制形式存入计算机来进行处理。数据的含义称为信息，数据是信息的载体，信息是数据的内涵，是对数据的语义解释。</p>
</li>
<li><p>数据库（DB）：是长期存放在计算机内的有组织的可共享的数据集合，数据库中的数据按一定的数据模型组织、描述和储存，具有尽可能小的冗余度、较高的数据独立性和易扩张性。</p>
<p>特性：</p>
<p>● 共享性，数据库中的数据能被多个应用程序的用户所使用。</p>
<p>● 独立性，提高了数据和程序的独立性，有专门的语言支持。</p>
<p>● 完整性，指数据库中数据的正确性、一致性和有效性。</p>
<p>● 减少数据冗余。</p>
</li>
<li><p>数据库管理系统(DBMS)：是数据库系统的核心组成部分，它是在操作系统支持下的系统软件，是对数据进行管理的大型系统软件，用户在数据库系统中的一些操作都是由数据库管理系统来实现的。</p>
</li>
<li><p>数据库系统(DBS)：是在计算机系统中引入数据库后的系统构成，数据库系统由数据库、操作系统、数据库管理系统、应用程序、用户、数据库管理员(DBA)组成。</p>
<ul>
<li>C&#x2F;S模式</li>
</ul>
<p>  应用程序直接与用户打交道，数据库管理系统不直接与用户打交道，因此，应用程序称为前台，数据库管理系统称为后台。</p>
<p>  <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://github.com/silent-wuhen/Blog_picture01/blob/main/3.%E6%96%87%E6%A1%A3%E5%9B%BE%E7%89%87/4.oracle/1.png?raw=true" alt="1.png"></p>
<ul>
<li>B&#x2F;S模式</li>
</ul>
<p>  基于Web的数据库应用采用三层客户-服务器模式( B&#x2F;S)，第一层为浏览器，第二层为Web服务器，第三层为数据库服务器。</p>
<p>  <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://github.com/silent-wuhen/Blog_picture01/blob/main/3.%E6%96%87%E6%A1%A3%E5%9B%BE%E7%89%87/4.oracle/2.png?raw=true" alt="2.png"></p>
</li>
<li><p>数据管理技术的发展：</p>
<ul>
<li><p>人工管理阶段</p>
</li>
<li><p>文件系统阶段</p>
</li>
<li><p>数据库系统阶段</p>
<p>（1）数据结构化</p>
<p>（2）数据的共享度高，冗余度小</p>
<p>（3）有较高的数据独立性</p>
<p>（4）由数据库管理系统对数据进行管理</p>
</li>
</ul>
</li>
</ol>
<h2 id="数据库系统结构"><a href="#数据库系统结构" class="headerlink" title="数据库系统结构"></a>数据库系统结构</h2><h3 id="数据库系统的三级模式结构"><a href="#数据库系统的三级模式结构" class="headerlink" title="数据库系统的三级模式结构"></a>数据库系统的三级模式结构</h3><p>模式(Schema)指对数据的逻辑结构或物理结构、数据特征，数据约束的定义和描述，它是对数据的一种抽象，模式反映数据的本质、核心或型的方面。</p>
<p>数据库系统的标准结构是三级模式结构，它包括：</p>
<ol>
<li>外模式（子模式或用户模式）：于三级模式的最外层，对应于用户级，它是某个或某几个用户所看到的数据视图，是与某一应用有关的数据的逻辑表示。（一个数据库可以有多个外模式，同一外模式也可以为某一用户的多个应用系统所用，但一个应用程序只能使用一个外模式）</li>
<li>模式（概念模式，逻辑模式）：位于三级模式的中间层，对应于概念级，它是由数据库设计者综合所有用户的数据，按照统一观点构造的全局逻辑结构。（一个数据库只有一个模式）</li>
<li>内模式（存储模式）：位于三级模式的底层，对应于物理级，它是数据物理结构和存储方式的描述，是数据在数据库内部的表示方式。一个数据库只有一个内模式。</li>
</ol>
<h3 id="数据库的二级映像功能和数据独立性"><a href="#数据库的二级映像功能和数据独立性" class="headerlink" title="数据库的二级映像功能和数据独立性"></a>数据库的二级映像功能和数据独立性</h3><ol>
<li>外模式&#x2F;模式映象 ：保证数据逻辑独立性。</li>
<li>模式&#x2F;内模式映象 ：保证数据物理独立性。</li>
</ol>
<h2 id="数据模型"><a href="#数据模型" class="headerlink" title="数据模型"></a>数据模型</h2><h3 id="两类数据模型"><a href="#两类数据模型" class="headerlink" title="两类数据模型"></a>两类数据模型</h3><ol>
<li><p>第一类是概念模型</p>
<p>按用户的观点对数据和信息建模，是对现实世界的第一层抽象，又称信息模型，它通过各种概念来描述现实世界的事物以及事物之间的联系，主要用于数据库设计。</p>
</li>
<li><p>第二类是逻辑模型、物理模型。</p>
<ul>
<li><p>逻辑模型</p>
<p>是概念模型的数据化，是事物以及事物之间联系的数据描述，提供了表示和组织数据的方法，主要的逻辑模型有层次模型、网状模型、关系模型。</p>
</li>
<li><p>物理模型</p>
<p>是对数据最底层的抽象，它描述数据在系统内部的表示方式和存取方法，如数据在磁盘上的存储方式和存取方法，是面向计算机系统的，由数据库管理系统具体实现。</p>
</li>
</ul>
</li>
</ol>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://github.com/silent-wuhen/Blog_picture01/blob/main/3.%E6%96%87%E6%A1%A3%E5%9B%BE%E7%89%87/4.oracle/3.png?raw=true" alt="3.png"></p>
<h3 id="数据模型组成要素"><a href="#数据模型组成要素" class="headerlink" title="数据模型组成要素"></a>数据模型组成要素</h3><ol>
<li>数据结构：用于描述系统的静态特性，是所研究的对象类型的集合，数据模型按其数据结构分为层次模型、网状模型和关系模型等。</li>
<li>数据操作：用于描述系统的动态特性，是指对数据库中各种对象及对象的实例允许执行的操作的集合，包括对象的创建、修改和删除，对对象实例的检索、插入、删除、修改及其它有关操作等。</li>
<li>数据完整性约束：是一组完整性约束规则的集合，完整性约束规则是给定数据模型中数据及其联系所具有的制约和依存的规则。</li>
</ol>
<h3 id="层次，网状，关系模型"><a href="#层次，网状，关系模型" class="headerlink" title="层次，网状，关系模型"></a>层次，网状，关系模型</h3><ol>
<li>层次模型：树</li>
<li>网状模型：图</li>
<li>关系模型：二维表。二维表由行和列组成。</li>
</ol>
<h2 id="关系数据库"><a href="#关系数据库" class="headerlink" title="关系数据库"></a>关系数据库</h2><h3 id="基本概念"><a href="#基本概念" class="headerlink" title="基本概念"></a>基本概念</h3><ol>
<li><p>关系：关系就是表(Table),在关系数据库中，一个关系存储为一个数据表。 </p>
</li>
<li><p>元组：表中一行(Row)为一个元组（记录），元组的各个分量对应于关系的各个属性。</p>
</li>
<li><p>属性：表中的列称为属性，对应数据表中的字段。 </p>
</li>
<li><p>域：属性的取值范围。 </p>
</li>
<li><p>关系模式：对关系的描述称为关系模式。</p>
<p>格式：关系名(属性名1,属性名2,…属性名n)</p>
</li>
<li><p>候选码：属性或属性组，其值可唯一标识其对应元组。</p>
</li>
<li><p>主关键字（主键）：在候选码中选择一个作为主键(Primary Key)。</p>
</li>
<li><p>外关键字（外键）：在一个关系中的属性或属性组不是该关系的主键，但它是另一个关系的主键，称为外键(Foreign Key)。</p>
</li>
</ol>
<h3 id="关系运算"><a href="#关系运算" class="headerlink" title="关系运算"></a>关系运算</h3><ol>
<li>选择：指选出满足给定条件的记录，它是从行的角度进行的单目运算，运算对象是一个表，运算结果形成一个新表。</li>
<li>投影：是选择表中满足条件的列，它是从列的角度进行的单目运算。</li>
<li>连接：是将两个表中的行按照一定的条件横向结合生成的新表。</li>
</ol>
<h2 id="数据库设计"><a href="#数据库设计" class="headerlink" title="数据库设计"></a>数据库设计</h2><h3 id="数据库的设计基本步骤"><a href="#数据库的设计基本步骤" class="headerlink" title="数据库的设计基本步骤"></a>数据库的设计基本步骤</h3><ol>
<li>需求分析阶段</li>
<li>概念结构设计阶段：形成一个独立于具体数据库管理系统的概念模型，即设计E-R模型。</li>
<li>逻辑结构设计阶段：将概念结构转换为某个具体的数据库管理系统所支持的数据模型。</li>
<li>物理结构设计阶段：为逻辑数据模型选取一个最适合应用环境的物理结构，包括存储结构和存取方法等。</li>
<li>数据库实施阶段：根据逻辑设计和物理设计的结果建立数据库。</li>
<li>数据库运行和维护阶段</li>
</ol>
<h3 id="E-R模型"><a href="#E-R模型" class="headerlink" title="E-R模型"></a>E-R模型</h3><ol>
<li>实体：客观存在并可相互区别的事物称为实体，实体用矩形框表示，框内为实体名。</li>
<li>属性：实体所具有的某一特性称为属性，属性采用椭圆框表示，框内为属性名，并用无向边与其相应实体连接。</li>
<li>实体型：用实体名及其属性名集合来抽象和刻画同类实体，称为实体型。例如，学生(学号, 姓名, 性别, 出生日期, 专业, 班号, 总学分)就是一个实体型。</li>
<li>实体集：同型实体的集合称为实体集，例如全体学生记录就是一个实体集。</li>
<li>联系：实体之间的联系，可分为一对一的联系、一对多的联系、多对多的联系。实体间的联系采用菱形框表示，联系以适当的含义命名，名字写在菱形框中，用无向边将参加联系的实体矩形框分别与菱形框相连，并在连线上标明联系的类型，即1—1、1—n或m—n。如果联系也具有属性，则将属性与菱形也用无向边连上。<ul>
<li>(1) 一对一的联系(1:1)例如，一个班只有一个正班长，而一个正班长只属于一个班，班级与正班长两个实体间具有一对一的联系。</li>
<li>(2) 一对多的联系(1:n)例如，一个班可有若干学生，一个学生只能属于一个班，班级与学生两个实体间具有一对多的联系。</li>
<li>(3) 多对多的联系(m:n)例如，一个学生可选多门课程，一门课程可被多个学生选修， 学生与课程两个实体间具有多对多的联系。</li>
</ul>
</li>
</ol>
<h1 id="第二章-Oracle数据库"><a href="#第二章-Oracle数据库" class="headerlink" title="第二章 Oracle数据库"></a>第二章 Oracle数据库</h1><h2 id="Oracle-12c数据库的特性"><a href="#Oracle-12c数据库的特性" class="headerlink" title="Oracle 12c数据库的特性"></a>Oracle 12c数据库的特性</h2><ol>
<li>. 云端数据库整合的全新多租户架构</li>
<li>支持行式存储与列式存储并存的内存数据库</li>
<li>与大数据的高度集成</li>
<li>使Oracle数据库成为私有云和公有云部署的理想平台</li>
<li>数据自动优化</li>
<li>深度安全防护</li>
<li></li>
</ol>
<h2 id="Oracle-12c数据库安装与卸载（未完成）"><a href="#Oracle-12c数据库安装与卸载（未完成）" class="headerlink" title="Oracle 12c数据库安装与卸载（未完成）"></a>Oracle 12c数据库安装与卸载（未完成）</h2><p>参考视频：</p>
<p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1fZ4y1C7HS/?spm_id_from=333.337.search-card.all.click&vd_source=bd0b10b1a89eeb70aae017bf4b5233c3">安装</a></p>
<p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1Hp4y1y7F9/?spm_id_from=333.337.search-card.all.click">卸载</a>：建议跟着书上卸载，亲测有效。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">1.保存脚本文件</span><br><span class="line">select name from score where grade = 92;</span><br><span class="line">save D:\name.sql</span><br><span class="line"></span><br><span class="line">2.调用脚本文件</span><br><span class="line">get D:\name.sql</span><br><span class="line"></span><br></pre></td></tr></table></figure>





<h1 id="第三章-创建数据库"><a href="#第三章-创建数据库" class="headerlink" title="第三章 创建数据库"></a>第三章 创建数据库</h1><h2 id="Oracle-数据库的体系结构"><a href="#Oracle-数据库的体系结构" class="headerlink" title="Oracle 数据库的体系结构"></a>Oracle 数据库的体系结构</h2><h3 id="逻辑结构"><a href="#逻辑结构" class="headerlink" title="逻辑结构"></a>逻辑结构</h3><p>逻辑结构包括表空间、段、盘区、数据块、表、其他逻辑对象等。</p>
<ol>
<li>表空间：是Oracle数据库中数据的逻辑组织单位，通过表空间来组织数据库中的数据，数据库逻辑上由一个或多个表空间组成，表空间物理上是由一个或多个数据文件组成。</li>
<li>段、盘区和数据块<ul>
<li>段：是按照不同的处理性质，在表空间划分出不同区域，用于存放不同的数据。</li>
<li>盘区：由连续分配的相邻数据块组成。</li>
<li>数据块：是数据库中最小的、最基本的存储单位。</li>
</ul>
</li>
<li>表：是数据库中存放用户数据的对象，它包含一组固定的列，表中的列描述该表所跟踪的实体的属性，每个列都有一个名字和若干个属性。</li>
<li>索引：是帮助用户在表中快速地查找记录的数据库结构，既可以提高数据库性能，又能够保证列值的唯一性。</li>
<li>用户：账号虽然不是数据库中的一个物理结构，但它与数据库中的对象有着重要的关系，这是因为用户拥有数据库的对象。</li>
<li>用户的方案：用户账号拥有的对象集</li>
</ol>
<h3 id="物理结构"><a href="#物理结构" class="headerlink" title="物理结构"></a>物理结构</h3><ol>
<li>数据文件：是用来存放数据库数据的物理文件,文件后缀名为”.DBF”。</li>
<li>重做日志文件</li>
<li>控制文件：用于记录和维护整个数据库的全局物理结构，它是一个二进制文件，文件后缀名为”.CTL”。</li>
</ol>
<h3 id="总体结构"><a href="#总体结构" class="headerlink" title="总体结构"></a>总体结构</h3><ol>
<li>实例</li>
<li>内存结构</li>
<li>进程：是操作系统中一个独立的可以调度的活动，用于完成指定的任务，进程可看作由一段可执行的程序、程序所需要的相关数据和进程控制块组成。有用户进程、服务器进程、后台进程。</li>
</ol>
<h2 id="创建和删除数据库"><a href="#创建和删除数据库" class="headerlink" title="创建和删除数据库"></a>创建和删除数据库</h2><p>书上P63</p>
<h1 id="第四章-创建和使用表"><a href="#第四章-创建和使用表" class="headerlink" title="第四章 创建和使用表"></a>第四章 创建和使用表</h1><h2 id="表的基本概念"><a href="#表的基本概念" class="headerlink" title="表的基本概念"></a>表的基本概念</h2><h3 id="表与表结构"><a href="#表与表结构" class="headerlink" title="表与表结构"></a>表与表结构</h3><ol>
<li>表：是数据库中存储数据的数据库对象，每个数据库包含了若干个表，表由行和列组成。</li>
<li>表结构：包含一组固定的列，列由数据类型、长度、允许Null值等组成。</li>
<li>记录 ：每个表包含若干行数据，一行为一个记录。</li>
<li>字段： 表中每列称为字段。</li>
<li>空值(Null)：通常表示未知、不可用或将在以后添加的数据。</li>
<li>关键字：用于唯一标识记录</li>
<li>候选关键字：如果表中记录的某一字段或字段组合能唯一标识记录，则该字段或字段组合称为候选关键字。</li>
<li>主关键字（主键）：合能唯一标识记录，则该字段或字段组合称为候选关键字(Candidate Key)。如果一个表有多个候选关键字，则选定其中的一个为主关键字</li>
</ol>
<h3 id="数据类型"><a href="#数据类型" class="headerlink" title="数据类型"></a>数据类型</h3><ol>
<li>数值型</li>
</ol>
<table>
<thead>
<tr>
<th>数据类型</th>
<th>格式</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>number</td>
<td>NUMBER[(&lt;总位数&gt;[, &lt;小数点右边的位数&gt;)]</td>
<td>可变长度数值列，允许值为0、正数和负数，总位数默认为38，小数点右边的位数默认为0。</td>
</tr>
<tr>
<td>float</td>
<td>FLOAT[(&lt;数值位数&gt;)]</td>
<td>浮点型数值列</td>
</tr>
</tbody></table>
<ol start="2">
<li><p>字符型</p>
<table>
<thead>
<tr>
<th>数据类型</th>
<th>格式</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>char</td>
<td>CHAR[(&lt;长度&gt;[BYTE|CHAR])]</td>
<td>固定长度字符域，最大长度为2000字节。</td>
</tr>
<tr>
<td>nchar</td>
<td>NCHAR[(&lt;长度&gt;)]</td>
<td>多字节字符集的固定长度字符域，最多为2000个字符或2000字节。</td>
</tr>
<tr>
<td>varchar2</td>
<td>VARCHAR2[(&lt;长度&gt;[BYTE|CHAR])]</td>
<td>可变长度字符域，最大长度为4000字节。</td>
</tr>
<tr>
<td>nvarchar2</td>
<td>NVARCHAR2[(&lt;长度&gt;)]</td>
<td>多字节字符集的可变长度字符域，最多为4000个字符或4000字节。</td>
</tr>
<tr>
<td>long</td>
<td>LONG</td>
<td>可变长度字符域，最大长度为2GB。</td>
</tr>
</tbody></table>
</li>
<li><p>日期型</p>
<table>
<thead>
<tr>
<th>数据类型</th>
<th>格式</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>date</td>
<td>DATE</td>
<td>存储全部日期和时间的固定长度字符域，长度为7字节，查询时日期默认格式为DD-MON-RR，除非通过设置NLS_DATE_FORMAT参数取代默认格式。</td>
</tr>
<tr>
<td>timestamp</td>
<td>TIMESTAMP  [(&lt;位数&gt;)]</td>
<td>用亚秒的粒度存储一个日期和时间，参数是亚秒粒度的位数，默认为6，范围为0~9。</td>
</tr>
</tbody></table>
</li>
<li><p>其他数据类型</p>
<table>
<thead>
<tr>
<th>数据类型</th>
<th>格式</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>blob</td>
<td>BLOB</td>
<td>二进制大对象，最大长度为4GB.</td>
</tr>
<tr>
<td>clob</td>
<td>CLOB</td>
<td>字符大对象，最大长度为4GB.</td>
</tr>
<tr>
<td>bfile</td>
<td>BFILE</td>
<td>外部二进制文件，大小由操作系统决定。</td>
</tr>
</tbody></table>
</li>
</ol>
<h3 id="表结构设计"><a href="#表结构设计" class="headerlink" title="表结构设计"></a>表结构设计</h3><p>创建表的核心是定义表结构及设置表和列的属性，创建表以前，首先要确定表名和表的属性，表所包含的列名、列的数据类型、长度、是否为空、是否主键等，这些属性构成表结构。</p>
<h2 id="创建表、修改表和删除表"><a href="#创建表、修改表和删除表" class="headerlink" title="创建表、修改表和删除表"></a>创建表、修改表和删除表</h2><p>图形化操作,比较简单：见P73-P77</p>
<h2 id="表数据的操作"><a href="#表数据的操作" class="headerlink" title="表数据的操作"></a>表数据的操作</h2><p>图形化操作,比较简单：见P77-P79</p>
<h1 id="第五章-PL-SQL基础"><a href="#第五章-PL-SQL基础" class="headerlink" title="第五章 PL&#x2F;SQL基础"></a>第五章 PL&#x2F;SQL基础</h1><h2 id="SQL-和-PL-SQL"><a href="#SQL-和-PL-SQL" class="headerlink" title="SQL 和 PL&#x2F;SQL"></a>SQL 和 PL&#x2F;SQL</h2><ol>
<li><p>SQL语言的分类</p>
<ul>
<li>数据定义语言（DDL）：用于定义数据库对象，对数据库、数据库中的表、视图、索引等数据库对象进行建立和删除，DDL包括CREATE、ALTER、DROP等语句。</li>
<li>数据操纵语言（DML）：用于对数据库中的数据进行插入、修改、删除等操作，DML包括INSERT、UPDATE、DELETE等语句。</li>
<li>数据查询语言（ DQL）：用于对数据库中的数据进行查询操作，例如用 SELECT语句进行查询操作。</li>
<li>数据控制语言（ DCL）：用于控制用户对数据库的操作权限，DCL包括GRANT、REVOKE等语句。</li>
</ul>
</li>
<li><p>SQL语言的特点：</p>
<ul>
<li>高度非过程化</li>
<li>应用于数据库的语言</li>
<li>面向集合的操作方式</li>
<li>既是自含式语言、又是嵌入式语言</li>
<li>综合统一</li>
<li>语言简洁，易学易用</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://github.com/silent-wuhen/Blog_picture01/blob/main/3.%E6%96%87%E6%A1%A3%E5%9B%BE%E7%89%87/4.oracle/4.png?raw=true" alt="4.png"></p>
</li>
</ol>
<h2 id="在PL-SQL中的数据定义语言"><a href="#在PL-SQL中的数据定义语言" class="headerlink" title="在PL&#x2F;SQL中的数据定义语言"></a>在PL&#x2F;SQL中的数据定义语言</h2><h3 id="数据库操作语句"><a href="#数据库操作语句" class="headerlink" title="数据库操作语句"></a>数据库操作语句</h3><p>一般情况下使用图形界面创建数据库</p>
<ol>
<li><p>创建数据库</p>
<ul>
<li>设定实例标识符</li>
<li>设定数据库管理员的验证方法</li>
<li>创建初始化参数</li>
<li>启动SQL*Plus并以SYSDBA连接到Oracle实例</li>
<li>启动实例</li>
<li>使用CREATE DATABASE语句创建数据库</li>
</ul>
</li>
<li><p>修改数据库 </p>
<p>修改数据库使用ALTER DATABASE语句</p>
</li>
<li><p>删除数据库，语法格式：</p>
<p>DROP DATABASE database_name</p>
</li>
</ol>
<h3 id="表空间操作语句"><a href="#表空间操作语句" class="headerlink" title="表空间操作语句"></a>表空间操作语句</h3><ol>
<li>创建表空间：CREATE TABLESPACE &lt;表空间名&gt;</li>
<li>管理表空间：ALTER TABLESPACE &lt;表空间名&gt;</li>
<li>删除表空间：DROP TABLESPACE &lt;表空间名&gt;</li>
</ol>
<h3 id="表操作语句"><a href="#表操作语句" class="headerlink" title="表操作语句"></a>表操作语句</h3><ol>
<li><p>创建表</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE [&lt;用户方案名&gt;.] &lt;表名&gt;(    </span><br><span class="line"></span><br><span class="line">&lt;列名1&gt;  &lt;数据类型&gt;  [DEFAULT &lt;默认值&gt;]  [&lt;列约束&gt;]	 </span><br><span class="line"></span><br><span class="line">&lt;列名2&gt;  &lt;数据类型&gt;  [DEFAULT &lt;默认值&gt;]  [&lt;列约束&gt;]	    </span><br><span class="line"></span><br><span class="line">[,…n]    </span><br><span class="line"></span><br><span class="line">&lt;表约束&gt;[,…n]) </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">实例：</span><br><span class="line">create table student(</span><br><span class="line">  sno char(6) not null primary key,</span><br><span class="line">  sname char(12) not null,</span><br><span class="line">  ssex char(3) not null,</span><br><span class="line">  sbirthday date not null,</span><br><span class="line">  speciality char(18) null,</span><br><span class="line">  sclass char(6) null,</span><br><span class="line">  tc number null</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
</li>
<li><p>修改表</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">语法格式：</span><br><span class="line">ALTER TABLE [&lt;用户方案名&gt;.] &lt;表名&gt;</span><br><span class="line">[ ADD(&lt;新列名&gt; &lt;数据类型&gt; [DEFAULT &lt;默认值&gt;][列约束],…n) ]		/*增加新列*/</span><br><span class="line">[ MODIFY([ &lt;列名&gt; [&lt;数据类型&gt;] [DEFAULT &lt;默认值&gt;][列约束],…n) ]  /*修改已有列的属性*/</span><br><span class="line">[ STORAGE &lt;存储参数&gt; ]										  /*修改存储特征*/</span><br><span class="line">[&lt;DROP子句&gt; ]													/*删除列或约束条件*/</span><br><span class="line"></span><br><span class="line">其中，&lt;DROP子句&gt;用于从表中删除列或约束。</span><br><span class="line">&lt;DROP子句&gt;::=</span><br><span class="line">DROP </span><br><span class="line">&#123;</span><br><span class="line">	COLUMN &lt;列名&gt;</span><br><span class="line">	∣PRIMARY [KEY]</span><br><span class="line">	∣UNIQUE (&lt;列名&gt;,…n) </span><br><span class="line">	∣CONSTRAINT &lt;约束名&gt;</span><br><span class="line">	∣[ CASCADE ]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">实例：</span><br><span class="line">(1)在student表中增加一列remarks(备注)。</span><br><span class="line">ALTER TABLE student ADD remarks varchar(100);</span><br><span class="line"></span><br><span class="line">(3)在student表中删除列remarks。</span><br><span class="line"></span><br><span class="line">ALTER TABLE student DROP COLUMN remarks;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</li>
<li><p>删除表</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">语法格式：</span><br><span class="line">DROP TABLE table_name</span><br><span class="line"></span><br><span class="line">实例：</span><br><span class="line">drop table student;</span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="在PL-SQL中的数据操作语言"><a href="#在PL-SQL中的数据操作语言" class="headerlink" title="在PL&#x2F;SQL中的数据操作语言"></a>在PL&#x2F;SQL中的数据操作语言</h2><ol>
<li><p>插入语句：INSERT语句用于向数据库的表插入一行，由VALUES给定该行各列的值</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">语法格式：</span><br><span class="line">INSERT INTO &lt;表名&gt;[(&lt;列名1&gt;,&lt;列名2&gt;,…n)] VALUES(&lt;列值1&gt;,&lt;列值2&gt;,…n)</span><br><span class="line"></span><br><span class="line">INSERT INTO student VALUES(&#x27;181001&#x27;,&#x27;宋德成&#x27;,&#x27;男&#x27;,TO_DATE(&#x27;19971105&#x27;,&#x27;YYYYMMDD&#x27;),&#x27;计算机&#x27;,&#x27;201805&#x27;,52);</span><br><span class="line">INSERT INTO student VALUES(&#x27;181002&#x27;,&#x27;何静&#x27;,&#x27;女&#x27;,TO_DATE(&#x27;19980427&#x27;,&#x27;YYYYMMDD&#x27;),&#x27;计算机&#x27;,&#x27;201805&#x27;,50);</span><br><span class="line">INSERT INTO student VALUES(&#x27;181004&#x27;,&#x27;刘文韬&#x27;,&#x27;男&#x27;,TO_DATE(&#x27;19980513&#x27;,&#x27;YYYYMMDD&#x27;),&#x27;计算机&#x27;,&#x27;201805&#x27;,52);</span><br><span class="line">INSERT INTO student VALUES(&#x27;184001&#x27;,&#x27;李浩宇&#x27;,&#x27;男&#x27;,TO_DATE(&#x27;19971024&#x27;,&#x27;YYYYMMDD&#x27;),&#x27;通信&#x27;,&#x27;201836&#x27;,50);</span><br><span class="line">INSERT INTO student VALUES(&#x27;184002&#x27;,&#x27;谢丽君&#x27;,&#x27;女&#x27;,TO_DATE(&#x27;19980116&#x27;,&#x27;YYYYMMDD&#x27;),&#x27;通信&#x27;,&#x27;201836&#x27;,48);</span><br><span class="line">INSERT INTO student VALUES(&#x27;184003&#x27;,&#x27;陈春玉&#x27;,&#x27;女&#x27;,TO_DATE(&#x27;19970809&#x27;,&#x27;YYYYMMDD&#x27;),&#x27;通信&#x27;,&#x27;201836&#x27;,52);</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</li>
<li><p>修改语句：UPDATE语句用于修改表中指定记录的列值。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">语法格式：</span><br><span class="line">UPDATE &lt;表名&gt; </span><br><span class="line">SET &lt;列名&gt;=&#123;&lt;新值&gt;|&lt;表达式&gt;&#125; [,…n] </span><br><span class="line">[WHERE &lt;条件表达式&gt;]</span><br><span class="line"></span><br><span class="line">实例：</span><br><span class="line">update student set tc=tc+2;</span><br><span class="line"></span><br><span class="line">update student set tc=tc+2</span><br><span class="line">  WHERE sname=&#x27;谢丽君&#x27;;</span><br></pre></td></tr></table></figure>
</li>
<li><p>删除语句：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">1.DELETE语句</span><br><span class="line">语法格式：</span><br><span class="line">DELETE FROM &lt;表名&gt; [WHERE &lt;条件表达式&gt;];</span><br><span class="line">	若省略WHERE子句，则删除所有行。</span><br><span class="line"></span><br><span class="line">实例：</span><br><span class="line">DELETE FROM student</span><br><span class="line">   WHERE sno=&#x27;184003&#x27;;</span><br><span class="line">   </span><br><span class="line"></span><br><span class="line">2.TRANCATE TABLE语句（不删除表）：删除一个表里的全部记录，释放表的存储空间</span><br><span class="line">语法格式：</span><br><span class="line">TRUNCATE TABLE &lt;表名&gt;</span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="在PL-SQL中的数据查询语言"><a href="#在PL-SQL中的数据查询语言" class="headerlink" title="在PL&#x2F;SQL中的数据查询语言"></a>在PL&#x2F;SQL中的数据查询语言</h2><p>实现选择、投影和连接等操作</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">语法格式：</span><br><span class="line"></span><br><span class="line">SELECT &lt;列&gt;		         				  /*SELECT子句，指定列*/</span><br><span class="line">   FROM  &lt;表或视图&gt;		          			/*FROM子句，指定表或视图*/</span><br><span class="line">   [ WHERE  &lt;条件表达式&gt; ]	     			/*WHERE子句，指定行*/</span><br><span class="line">   [ GROUP BY &lt;分组表达式&gt; ]      			/*GROUP BY子句，指定分组表达式*/</span><br><span class="line">   [ HAVING &lt;分组条件表达式&gt; ]     		   /*HAVING子句，指定分组统计条件*/</span><br><span class="line">   [ ORDER BY &lt;排序表达式&gt; [ ASC | DESC ]]	/*ORDER子句，指定排序表达式和顺序*/</span><br></pre></td></tr></table></figure>



<h3 id="投影查询"><a href="#投影查询" class="headerlink" title="投影查询"></a>投影查询</h3><ol>
<li><p>投影指定的列：使用SELECT语句可选择表中的一个列或多个列，如果是多个列</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">语法格式</span><br><span class="line">SELECT &lt;列名1&gt; [ , &lt;列名2&gt; [,…n] ]</span><br><span class="line">   FROM &lt;表名&gt;</span><br><span class="line">   [WHERE &lt;条件表达式&gt;]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">实例：</span><br><span class="line">SELECT sno, sname, sclass</span><br><span class="line">  FROM student;</span><br></pre></td></tr></table></figure>
</li>
<li><p>投影全部列：使用*号</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">实例：</span><br><span class="line">SELECT *</span><br><span class="line">  FROM student;</span><br></pre></td></tr></table></figure>
</li>
<li><p>修改查询结果的列标题：取别名</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">实例：：</span><br><span class="line">SELECT sno AS 学号, sname AS 姓名, speciality AS 专业</span><br><span class="line">  FROM student;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</li>
<li><p>计算列值：使用SELECT子句对列进行查询时，可以对数字类型的列进行计算，可以使用加(＋)、减(－)、乘(*)、除(&#x2F;)等算术运送符</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">语法格式：</span><br><span class="line">SELECT &lt;表达式&gt; [ , &lt;表达式&gt; ]</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</li>
<li><p>去掉重复行：掉结果集中的重复行可使用DISTINCT关键字。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">语法格式：</span><br><span class="line">SELECT DISTINCT &lt;列名&gt; [ , &lt;列名&gt;…]</span><br><span class="line"></span><br><span class="line">实例：</span><br><span class="line">SELECT DISTINCT sclass</span><br><span class="line">FROM student;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="选择查询"><a href="#选择查询" class="headerlink" title="选择查询"></a>选择查询</h3><p>投影查询用于选择行，选择查询通过WHERE子句实现</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">语法格式：</span><br><span class="line"></span><br><span class="line">WHERE &lt;条件表达式&gt;</span><br><span class="line"></span><br><span class="line">（下面的不用看）</span><br><span class="line">其中，&lt;条件表达式&gt;为查询条件，格式为：</span><br><span class="line">&lt;条件表达式&gt;::=</span><br><span class="line">     &#123; [ NOT ] &lt;判定运算&gt; | (&lt;条件表达式&gt; ) &#125;</span><br><span class="line">     [ &#123; AND | OR &#125; [ NOT ] &#123; &lt;判定运算&gt; | (&lt;条件表达式&gt;) &#125; ]</span><br><span class="line">     [ ,…n ]</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ol>
<li><p>表达式比较：共有7个运算符：&#x3D;（等于）、&lt;（小于）、&lt;&#x3D;（小于等于）、&gt;（大于）、&gt;&#x3D;（大于等于）、&lt;&gt;（不等于）、!&#x3D;（不等于）</p>
</li>
<li><p>指定范围 ：BETWEEN、NOT BETWEEN、IN是用于指定范围的三个关键字，用于查找字段值在（或不在）指定范围的行。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">语法格式：</span><br><span class="line"></span><br><span class="line">&lt;表达式&gt; [ NOT ] BETWEEN &lt;表达式1&gt; AND &lt;表达式2&gt;</span><br><span class="line"></span><br><span class="line">实例：</span><br><span class="line">SELECT *</span><br><span class="line">  FROM student</span><br><span class="line">  WHERE sbirthday NOT BETWEEN TO_DATE(&#x27;19980101&#x27;,&#x27;YYYYMMDD&#x27;) AND TO_DATE(&#x27;19981231&#x27;,&#x27;YYYYMMDD&#x27;);</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</li>
<li><p>模式匹配：使用LIKE谓词，LIKE谓词用于指出一个字符串是否与指定的字符串相匹配。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">语法格式：</span><br><span class="line"></span><br><span class="line">&lt;字符串表达式1&gt; [ NOT ] LIKE &lt;字符串表达式2&gt; [ ESCAPE &#x27;&lt;转义字符&gt;’ ]</span><br><span class="line"></span><br><span class="line">在使用LIKE谓词时，&lt;字符串表达式2&gt;可以含有通配符，通配符有以下两种（模糊查询）：</span><br><span class="line">    %：代表0或多个字符。</span><br><span class="line">    _：代表一个字符。</span><br><span class="line"></span><br><span class="line">实例：</span><br><span class="line">SELECT *</span><br><span class="line">  FROM student</span><br><span class="line">  WHERE sname LIKE &#x27;谢%&#x27;;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</li>
<li><p>空值判断：判定一个表达式的值是否为空值时，使用IS NULL关键字。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">语法格式：</span><br><span class="line">&lt;表达式&gt; IS [ NOT ] NULL</span><br><span class="line"></span><br><span class="line">实例：</span><br><span class="line">SELECT * </span><br><span class="line">  FROM score</span><br><span class="line">  WHERE grade IS null;</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="分组查询和统计计算"><a href="#分组查询和统计计算" class="headerlink" title="分组查询和统计计算"></a>分组查询和统计计算</h3><ol>
<li><p>聚合函数：包括COUNT、SUM、AVG、MAX、MIN等函数</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">1.COUNT函数;组中满足条件的行数或总行</span><br><span class="line">语法格式：</span><br><span class="line">COUNT ( &#123; [ ALL | DISTINCT ] &lt;表达式&gt; &#125; | * )</span><br><span class="line">    ALL表示对所有值进行计算，ALL为默认值，</span><br><span class="line">    DISTINCT指去掉重复值，</span><br><span class="line">    COUNT函数用于计算时忽略NULL值。</span><br><span class="line">实例：</span><br><span class="line">SELECT COUNT(*) AS 总人数</span><br><span class="line">  FROM student;</span><br><span class="line"></span><br><span class="line">2.SUM和AVG函数</span><br><span class="line">SUM函数用于求出一组数据的总和</span><br><span class="line">AVG函数用于求出一组数据的平均值</span><br><span class="line">SUM / AVG函数用于计算时忽略NULL值。</span><br><span class="line">语法格式：</span><br><span class="line">SUM / AVG ( [ ALL | DISTINCT ] &lt;表达式&gt; )</span><br><span class="line"></span><br><span class="line">实例：</span><br><span class="line">SELECT SUM(stockqt) AS课程1201总分</span><br><span class="line">  FROM score</span><br><span class="line">  WHERE cno=’1201’;</span><br><span class="line"></span><br><span class="line">3.MAX和MIN函数</span><br><span class="line">语法格式：</span><br><span class="line">MAX / MIN ( [ ALL | DISTINCT ] &lt;表达式&gt; )</span><br></pre></td></tr></table></figure>
</li>
<li><p>GROUP BY子句：用于指定需要分组的列。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">语法格式：</span><br><span class="line">GROUP BY [ ALL ] &lt;分组表达式&gt; [,…n]</span><br><span class="line">其中，分组表达式通常包含字段名，ALL显示所有分组。</span><br><span class="line"></span><br><span class="line">实例：</span><br><span class="line">SELECT cno AS 课程号, MAX(grade)AS 最高分,MIN (grade)AS 最低分, AVG(grade)AS 平均成绩</span><br><span class="line">  FROM score</span><br><span class="line">  WHERE NOT grade IS null</span><br><span class="line">  GROUP BY cno;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</li>
<li><p>HAVING子句：对分组按指定条件进一步进行筛选。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">语法格式：</span><br><span class="line">[ HAVING &lt;条件表达式&gt; ]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">当WHERE子句、GROUP BY子句、HAVING子句、ORDER BY子句在一个SELECT语句中时，执行顺序如下：</span><br><span class="line">（1）执行WHERE子句，在表中选择行。</span><br><span class="line">（2）执行GROUP BY子句，对选取行进行分组。</span><br><span class="line">（3）执行聚合函数。</span><br><span class="line">（4）执行HAVING子句，筛选满足条件的分组。</span><br><span class="line">（5）执行ORDER BY子句，进行排序。</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="排序查询"><a href="#排序查询" class="headerlink" title="排序查询"></a>排序查询</h3><p>ORDER BY子句进行排序</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">语法：</span><br><span class="line">order by &lt;排序表达式&gt; [asc|desc]</span><br><span class="line">asc为升序，desc为降序</span><br><span class="line"></span><br><span class="line">实例：</span><br><span class="line">SELECT *</span><br><span class="line">  FROM student</span><br><span class="line">  WHERE sclass=&#x27;201836&#x27;</span><br><span class="line">  ORDER BY sbirthday DESC;</span><br><span class="line"></span><br></pre></td></tr></table></figure>





<h1 id="第六章-PL-SQL查询高级"><a href="#第六章-PL-SQL查询高级" class="headerlink" title="第六章 PL&#x2F;SQL查询高级"></a>第六章 PL&#x2F;SQL查询高级</h1><h2 id="连接查询"><a href="#连接查询" class="headerlink" title="连接查询"></a>连接查询</h2><ol>
<li><p>使用连接谓词指定的连接：连接条件由比较运算符在WHERE子句中给出（连接谓词）</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">语法格式：</span><br><span class="line">[&lt;表名1.&gt;] &lt;列名1&gt; &lt;比较运算符&gt; [&lt;表名2.&gt;] &lt;列名2&gt;</span><br><span class="line"></span><br><span class="line">1.等值连接：表之间通过比较运算符“=”连接起来</span><br><span class="line">SELECT student.*, score.*</span><br><span class="line">  FROM student, score</span><br><span class="line">  WHERE student.sno=score.sno;</span><br><span class="line"></span><br><span class="line">2.自然连接：目标列中去除相同的字段名</span><br><span class="line">SELECT student.*, score.cno, score.grade</span><br><span class="line">  FROM student, score</span><br><span class="line">  WHERE student.sno=score.sno;</span><br><span class="line"></span><br><span class="line">3.自连接：将同一个表进行连接</span><br><span class="line">SELECT a.cno, a.sno, a.grade</span><br><span class="line">  FROM score a, score b</span><br><span class="line">  WHERE a.cno=&#x27;1201&#x27; AND a.grade&gt;b.grade AND b.sno=&#x27;181002&#x27; AND b.cno=&#x27;1201&#x27;</span><br><span class="line">  ORDER BY a.grade DESC;</span><br></pre></td></tr></table></figure>
</li>
<li><p>使用JOIN关键字指定的连接：增强了表的连接运算能力。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">语法格式：</span><br><span class="line">&lt;表名&gt; &lt;连接类型&gt; &lt;表名&gt; ON &lt;条件表达式&gt;</span><br><span class="line">| &lt;表名&gt; CROSS JOIN &lt;表名&gt;</span><br><span class="line">| &lt;连接表&gt;</span><br><span class="line"></span><br><span class="line">其中，&lt;连接类型&gt;的格式为：</span><br><span class="line">&lt;连接类型&gt;::=</span><br><span class="line">      [ INNER | &#123; LEFT | RIGHT | FULL &#125; [ OUTER ] CROSS JOIN</span><br><span class="line">用JOIN关键字指定连接的多个表的表名，用ON子句指定连接条件。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">1.内连接（INNER）：内连接是系统默认的，可省略INNER关键字。</span><br><span class="line">SELECT a.sno, a.sname, c.cname, b.grade</span><br><span class="line">  FROM student a JOIN score b ON a.sno=b.sno JOIN course c ON b.cno=c.cno</span><br><span class="line">  WHERE c.cname=&#x27;数据库系统&#x27; AND b.grade&gt;=84;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">2.外连接（OUTER）</span><br><span class="line">●  左外连接（LEFT OUTER JOIN）：结果表中除了包括满足连接条件的行外，还包括左表的所有行；</span><br><span class="line">SELECT tname, cno</span><br><span class="line">  FROM teacher LEFT JOIN lecture ON (teacher.tno=lecture.tno);</span><br><span class="line"></span><br><span class="line">●  右外连接（RIGHT OUTER JOIN）：结果表中除了包括满足连接条件的行外，还包括右表的所有行；</span><br><span class="line">SELECT tno, cname</span><br><span class="line">  FROM lecture RIGHT JOIN course ON (course.cno=lecture.cno);</span><br><span class="line"></span><br><span class="line">●  完全外连接（FULL OUTER JOIN）：结果表中除了包括满足连接条件的行外，还包括两个表的所有行。</span><br><span class="line">SELECT EmplName, DeptName</span><br><span class="line">  FROM Employee FULL JOIN Department ON Employee.DeptID=Department.DeptID;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">3.交叉连接（CROSS）</span><br><span class="line">SELECT EmplName, DeptName</span><br><span class="line">  FROM Employee CROSS JOIN Department;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="集合查询"><a href="#集合查询" class="headerlink" title="集合查询"></a>集合查询</h2><p>集合查询将两个或多个SQL语句的查询结果集合并起来，利用集合进行查询处理以完成特定的任务，使用四个集合操作符(Set Operator) UNION、UNION ALL、INTERSECT和MINUS，将两个或多个SQL查询语句结合成一个单独SQL查询语句。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://github.com/silent-wuhen/Blog_picture01/blob/main/3.%E6%96%87%E6%A1%A3%E5%9B%BE%E7%89%87/4.oracle/5.png?raw=true" alt="5.png"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">语法格式：</span><br><span class="line">&lt;SELECT查询语句1&gt;</span><br><span class="line">&#123;UNION | UNION A LL | INTERSECT | MINUS&#125;</span><br><span class="line">&lt;SELECT查询语句2&gt;</span><br><span class="line">说明：</span><br><span class="line">●  在集合查询中，需要遵循的规则为：</span><br><span class="line">●  在构成复合查询的各个单独的查询中，列数和列的顺序必须匹配，数据类型必须兼容。</span><br><span class="line">●  用户不许在复合查询所包含的任何单独的查询中使用ORDER BY子句</span><br><span class="line">●  用户不许在BLOB、LONG等大数据对象上使用集合操作符</span><br><span class="line">●  用户不许在集合操作符SELECT列表中使用嵌套表或者数组集合。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">1.UNION操作符：将第一个查询中的所有行与第二个查询的所有行相加，消除重复行并且返回结果。</span><br><span class="line">SELECT sno, sname, ssex</span><br><span class="line">  FROM student</span><br><span class="line">  WHERE ssex=&#x27;女&#x27;</span><br><span class="line">UNION</span><br><span class="line">SELECT a.sno, a.sname, a.ssex </span><br><span class="line">  FROM student a, score b</span><br><span class="line">  WHERE a.sno=b.sno AND b.cno=&#x27;4002&#x27;;</span><br><span class="line"></span><br><span class="line">2.INTERSECT操作符：获取两个查询，对值进行汇总，并且返回同时存在于两个结果集中的行。</span><br><span class="line">SELECT a.sno AS 学号, a.sname AS 姓名, a.ssex AS 性别</span><br><span class="line">  FROM student a, score b</span><br><span class="line">  WHERE a.sno=b.sno AND b.cno=&#x27;8001&#x27;</span><br><span class="line">INTERSECT</span><br><span class="line">SELECT a.sno AS 学号, a.sname AS 姓名, a.ssex AS 性别</span><br><span class="line">  FROM student a, score b</span><br><span class="line">  WHERE a.sno=b.sno AND b.cno=&#x27;4002&#x27;;</span><br><span class="line"></span><br><span class="line">3.MINUS操作符：返回所有从第一个查询中有但是第二个查询中没有的那些行。</span><br><span class="line">SELECT a.sno AS 学号, a.sname AS 姓名, a.ssex AS 性别</span><br><span class="line">  FROM student a, score b</span><br><span class="line">  WHERE a.sno=b.sno AND b.cno=&#x27;8001&#x27;</span><br><span class="line">MINUS</span><br><span class="line">SELECT a.sno AS 学号, a.sname AS 姓名, a.ssex AS 性别</span><br><span class="line">  FROM student a, score b</span><br><span class="line">  WHERE a.sno=b.sno AND b.cno=&#x27;4002&#x27;;</span><br></pre></td></tr></table></figure>



<h2 id="子查询"><a href="#子查询" class="headerlink" title="子查询"></a>子查询</h2><p>子查询（嵌套查询）：将一个查询块嵌套在另一个查询块的子句指定条件中的查询。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">例如：</span><br><span class="line">SELECT * </span><br><span class="line">  FROM student</span><br><span class="line">  WHERE sno IN</span><br><span class="line">    (SELECT sno </span><br><span class="line">       FROM score </span><br><span class="line">       WHERE cno=&#x27;1004&#x27;</span><br><span class="line">     );</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ol>
<li>IN子查询：使用IN谓词实现子查询和父查询的连接。</li>
</ol>
   <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">查询选修了课程号为8001的课程的学生情况。</span><br><span class="line"></span><br><span class="line">SELECT * </span><br><span class="line">FROM student</span><br><span class="line">WHERE sno IN</span><br><span class="line">  (SELECT sno </span><br><span class="line">    FROM score </span><br><span class="line">    WHERE cno=&#x27;8001&#x27; </span><br><span class="line">   );</span><br></pre></td></tr></table></figure>

<ol start="2">
<li><p>比较子查询：比较子查询是指父查询与子查询之间用比较运算符进行关联。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">语法格式：</span><br><span class="line">&lt;表达式&gt; &#123; &lt; | &lt;= | = | &gt; | &gt;= | != | &lt;&gt;  &#125; &#123; ALL | SOME | ANY &#125; ( &lt;子查询&gt; )</span><br><span class="line">ALL指定表达式要与子查询结果集中每个值都进行比较，当表达式与子查询结果集中每个值都满足比较关系时，才返回TRUE，否则返回FALSE；</span><br><span class="line">SOME和ANY指定表达式要只要与子查询结果集中某个值满足比较关系时，就返回TRUE，否则返回FALSE。</span><br><span class="line"></span><br><span class="line">查询比所有通信专业学生年龄都小的学生。</span><br><span class="line"></span><br><span class="line">SELECT *</span><br><span class="line">  FROM student</span><br><span class="line">  WHERE sbirthday &gt;ALL</span><br><span class="line">    (SELECT sbirthday </span><br><span class="line">       FROM student  </span><br><span class="line">       WHERE speciality=&#x27;通信&#x27;</span><br><span class="line">    );</span><br></pre></td></tr></table></figure>
</li>
<li><p>EXISTS子查询（NOT EXISTS相反）：只用于测试子查询是否返回行，若子查询返回一个或多个行，则EXISTS返回TRUE，否则返回FALSE。</p>
</li>
</ol>
   <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">语法格式：</span><br><span class="line">[ NOT ] EXISTS ( &lt;子查询&gt; )</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">查询选修1004课程的学生姓名。</span><br><span class="line"></span><br><span class="line">SELECT sname AS 姓名</span><br><span class="line">  FROM student</span><br><span class="line">  WHERE EXISTS </span><br><span class="line">    (SELECT *</span><br><span class="line">       FROM score</span><br><span class="line">       WHERE score.sno=student.sno AND cno=&#x27;1004&#x27;</span><br><span class="line">     );</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h1 id="第七章-视图（View）"><a href="#第七章-视图（View）" class="headerlink" title="第七章 视图（View）"></a>第七章 视图（View）</h1><p>视图(View)通过SELECT查询语句定义，它是从一个或多个表(或视图)导出的，用来导出视图的表称为基表(Base Table)，导出的视图称为虚表。在数据库中，只存储视图的定义，不存放视图对应的数据，这些数据仍然存放在原来的基表中。</p>
<p>视图有以下优点:</p>
<ul>
<li>方便用户的查询和处理，简化数据操作。</li>
<li>简化用户的权限管理，增加安全性。</li>
<li>便于数据共享。</li>
<li>屏蔽数据库的复杂性。</li>
<li>可以重新组织数据。</li>
</ul>
<h2 id="创建视图"><a href="#创建视图" class="headerlink" title="创建视图"></a>创建视图</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">语法格式：</span><br><span class="line">CREATE [OR REPLACE] VIEW [ schema_name . ] view_name [ (column [ ,...n ] ) ]</span><br><span class="line">[ WITH &lt;view_attribute&gt;[ ,…n ] ]</span><br><span class="line">    AS select_statement</span><br><span class="line">    [ WITH CHECK OPTION ]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">说明：</span><br><span class="line"> ● view_name：视图名称；scheme是数据库架构名</span><br><span class="line"> ● column：列名，此为视图中包含的列，最多可引用1024个列。</span><br><span class="line"> ● WITH 子句：指出视图的属性</span><br><span class="line"> ● select_statement：定义视图的SELECT语句，可在该语句中使用多个表或视图。</span><br><span class="line"> ● WITH CHECK OPTION：指出在视图上进行的修改都要符合select_statement所指定的准则。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">创建vwStudentScore视图，包括学号、姓名、性别、专业、课程号、成绩，且专业为计算机。</span><br><span class="line">CREATE OR REPLACE VIEW vwStudentScore</span><br><span class="line">  AS </span><br><span class="line">  SELECT a.sno, a.sname, a.ssex, a.speciality, b.cno, b.grade </span><br><span class="line">    FROM student a, score b</span><br><span class="line">    WHERE a.sno=b.sno AND a.speciality=&#x27;计算机&#x27;</span><br><span class="line">    WITH CHECK OPTION;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h2 id="查询视图"><a href="#查询视图" class="headerlink" title="查询视图"></a>查询视图</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">使用SELECT语句对vwStudentScore视图进行查询：</span><br><span class="line"></span><br><span class="line">SELECT *</span><br><span class="line">  FROM vwStudentScore;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h2 id="修改视图定义"><a href="#修改视图定义" class="headerlink" title="修改视图定义"></a>修改视图定义</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">alter view 只是用于重新编译和验证视图，修改视图的定义就是重新创建视图。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">CREATE OR REPLACE VIEW vwStudentScore</span><br><span class="line">  AS </span><br><span class="line">  SELECT a.sno, a.sname, a.ssex, a.speciality, b.cno, b.grade </span><br><span class="line">    FROM student a, score b</span><br><span class="line">    WHERE a.sno=b.sno</span><br><span class="line">    WITH CHECK OPTION;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h2 id="删除视图"><a href="#删除视图" class="headerlink" title="删除视图"></a>删除视图</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">语法格式：</span><br><span class="line">DROP VIEW &lt;视图名&gt;</span><br><span class="line"></span><br><span class="line">DROP VIEW vwStudentCourseScore;</span><br></pre></td></tr></table></figure>

<p>注：删除视图时，应该由该视图导出的其他视图删去。删除基表时，应该由该视图导出的其他视图删去。</p>
<h2 id="更新视图"><a href="#更新视图" class="headerlink" title="更新视图"></a>更新视图</h2><ol>
<li><p>更新视图数据，可更新基表数据。但需要满足以下条件：</p>
<ul>
<li>视图没有包含只读属性</li>
<li>没有使用连接函数，集合函数，组函数。</li>
<li>创建视图的select语句中没有GROUP BY，ONNECT BY，START WITH子句，DISTINCT关键字。</li>
<li>创建视图的SELECT语句中不包含从基表列通过计算所得的列。</li>
</ul>
</li>
<li><p>插入数据：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">使用INSERT语句通过视图向基表插入数据。</span><br><span class="line"></span><br><span class="line">INSERT INTO vwCommSpecialityStudent VALUES (&#x27;184006&#x27;,&#x27;吴维明&#x27;,&#x27;男&#x27;,&#x27;1998-03-14&#x27;,&#x27;通信&#x27;,&#x27;201836&#x27;,50);</span><br></pre></td></tr></table></figure>
</li>
<li><p>修改数据</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">使用UPDATE语句通过视图修改基表数据。</span><br><span class="line"></span><br><span class="line">UPDATE vwCommSpecialityStudent SET tc=tc+2 </span><br><span class="line">  WHERE sno=&#x27;184006&#x27;;</span><br></pre></td></tr></table></figure>
</li>
<li><p>删除数据</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">使用DELETE语句通过视图向基表删除数据。</span><br><span class="line"></span><br><span class="line">DELETE FROM vwCommSpecialityStudent</span><br><span class="line">  WHERE sno=&#x27;184006&#x27;;</span><br></pre></td></tr></table></figure></li>
</ol>
<h1 id="第八章-索引（INDEX）和序列（sequence）"><a href="#第八章-索引（INDEX）和序列（sequence）" class="headerlink" title="第八章 索引（INDEX）和序列（sequence）"></a>第八章 索引（INDEX）和序列（sequence）</h1><h2 id="索引概述"><a href="#索引概述" class="headerlink" title="索引概述"></a>索引概述</h2><p>索引与书中的目录类似，就像先找到书的目录章节的页数，然后根据页数找到正文中的章节一样，索引也先找到符合条件的行，再直接找到数据库行所对应个的物理地址，从而找到数据库行。</p>
<ol>
<li>索引的分类：<ul>
<li>按存储方法分类，索引可分为B*树索引和位图索引两类。</li>
<li>按功能和索引对象分类，索引可分为：<ul>
<li>唯一索引和非唯一索引</li>
<li>单列索引和复合索引</li>
<li>逆序索引</li>
<li>基于函数的索引</li>
</ul>
</li>
</ul>
</li>
<li>建立索引的原则：<ul>
<li>建立索引的作用如下：<ul>
<li>提高查询速度。</li>
<li>保证列值的唯一性。</li>
<li>查询优化依靠索引起作用。</li>
<li>提高ORDER BY、GROUP BY执行速度。</li>
</ul>
</li>
<li>代价：<ul>
<li>索引需要占用数据表以外的物理存储空间。</li>
<li>创建和维护索引要花费一定的时间。</li>
<li>当对表进行更新操作时，索引需要被重建，这样就降低了数据的维护速度。</li>
</ul>
</li>
<li>建立索引的一般原则<ul>
<li>根据列的特征合理创建索引</li>
<li>根据表的大小来创建索引</li>
<li>限制表中索引的数量</li>
<li>在表中插入数据后创建索引。</li>
</ul>
</li>
</ul>
</li>
</ol>
<h2 id="创建索引、修改索引和删除索引"><a href="#创建索引、修改索引和删除索引" class="headerlink" title="创建索引、修改索引和删除索引"></a>创建索引、修改索引和删除索引</h2><ol>
<li><p>创建索引</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">语法格式：</span><br><span class="line"></span><br><span class="line">CREATE [UNIQUE∣BITMAP] INDEX        /*索引类型*/</span><br><span class="line">      [&lt;用户方案名&gt;.]&lt;索引名&gt; </span><br><span class="line">  ON  &lt;表名&gt;(&lt;列名&gt; | &lt;列名表达式&gt; [ASC∣DESC] [,…n])</span><br><span class="line">[LOGGING | NOLOGGING]           	/*指定是否创建相应的日志记录*/</span><br><span class="line">[COMPUTE STATISTICS]              	/*生成统计信息*/</span><br><span class="line">[COMPAESS | NOCOMPRESS]     		/*对复合索引进行压缩*/</span><br><span class="line">[TABLESPACE &lt;表空间名&gt;]         	  /*索引所属表空间*/</span><br><span class="line">[SORT | NOSORT]                      /*指定是否对表进行排序*/</span><br><span class="line">[REVERSE]</span><br><span class="line"></span><br><span class="line">说明：</span><br><span class="line">●  UNIQUE：指定所基于的列(或多列)值必须唯一，默认的索引是非唯一的。</span><br><span class="line">●  BITMAP：指定创建位图索引。</span><br><span class="line">●  &lt;用户方案名&gt;.：包含索引的方案。</span><br><span class="line">●  ON：在指定表的列中创建索引。</span><br><span class="line">●  &lt;列名表达式&gt;：用指定表的列、常数、SQL函数和自定义函数的表达式创建基于函数的索引。</span><br><span class="line">●  [LOGGING | NOLOGGING]：LOGGING选项指规定创建索引时，创建相应的日志。NO LOGGING选项在创建索引时不产生重做日志信息，默认为LOGGING。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">实例：</span><br><span class="line">在stsys数据库中score表的grade列上，创建一个索引ixGrade。</span><br><span class="line">CREATE INDEX ixGrade ON score(grade);</span><br><span class="line"></span><br><span class="line">在stsys数据库中student表的sname列和tc列，创建一个复合索引ixNameTc。</span><br><span class="line">CREATE INDEX ixNameTc ON student(sname,tc);</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</li>
<li><p>修改索引</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">语法格式：</span><br><span class="line"></span><br><span class="line">ALTER INDEX [&lt;用户方案名&gt;.]&lt;索引名&gt;</span><br><span class="line">[LOGGING | NOLOGGING]</span><br><span class="line">[TABLESPACE &lt;表空间名&gt;]</span><br><span class="line">[SORT | NOSORT]</span><br><span class="line">[REVERSE]</span><br><span class="line">[RENAME TO &lt;新索引名&gt;]</span><br><span class="line"></span><br><span class="line">说明：</span><br><span class="line">RENAME TO子句用于修改索引的名称,其余选项与CREATE INDEX语句相同。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">实例：</span><br><span class="line">修改创建的索引ixGrade。</span><br><span class="line">ALTER INDEX ixGrade</span><br><span class="line">  RENAME TO ixGradeScore;</span><br></pre></td></tr></table></figure>
</li>
<li><p>删除索引</p>
</li>
</ol>
   <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">语法格式：</span><br><span class="line">DROP INDEX</span><br><span class="line">&#123; index_name ON  table_or_view_name [ ,...n ] </span><br><span class="line">  | table_or_view_name.index_name [ ,...n ]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">实例：</span><br><span class="line">删除已建索引ixGradeScore。</span><br><span class="line">DROP INDEX ixGradeScore;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h2 id="序列概述"><a href="#序列概述" class="headerlink" title="序列概述"></a>序列概述</h2><p>序列(sequence)是一种数据库对象，定义在数据字典中，用来自动产生一组唯一的序号。序列是一种共享式的对象，多个用户可以共同使用序列中的序号。</p>
<p>一般序列所生成的整数通常可以用来填充数字类型的主键列，这样当向表中插入数据时，主键列就使用了序列中的序号，从而保证主键的列值不会重复。</p>
<p>序列的类型:</p>
<ol>
<li><p>升序</p>
<p>序列值由初始值向最大值递增,此为创建序列的默认设置。</p>
</li>
<li><p>降序</p>
<p>序列值由初始值向最小值递减。</p>
</li>
</ol>
<h2 id="创建、使用、修改和删除序列"><a href="#创建、使用、修改和删除序列" class="headerlink" title="创建、使用、修改和删除序列"></a>创建、使用、修改和删除序列</h2><ol>
<li><p>创建序列</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">CREATE SEQUENCE [用户方案名.] &lt;序列名&gt;	/*将要创建的序列名称*/</span><br><span class="line">  [INCREMENT BY &lt;数字值&gt;]		        /*递增或递减值*/</span><br><span class="line">  [START WITH &lt;数字值&gt;]				/*初始值*/</span><br><span class="line">  [MAXVALUE &lt;数字值&gt; | NOMAXVALUE]		/*最大值*/</span><br><span class="line">  [MINVALUE &lt;数字值&gt; | NOMINVALUE]	    /*最小值*/</span><br><span class="line">  [CYCLE | NOCYCLE]			          /*是否循环*/</span><br><span class="line">  [CACHE &lt;数字值&gt; | NOCACHE]			/*高速缓冲区设置*/</span><br><span class="line">  [ORDER | NOORDER]	                  /*序列号是序列否，按照顺序生成*/</span><br><span class="line"></span><br><span class="line">说明：</span><br><span class="line">● INCREMENT BY</span><br><span class="line">指定该序列每次增加的整数增量。指定为正值则创建升序序列，负值则创建降序序列。</span><br><span class="line">● START WITH</span><br><span class="line">序列的起始值。如果不指定该值，对升序序列使用该序列默认的最小值，对降序序列使用该序列默认的最大值。</span><br><span class="line"> ● MAXVALUE</span><br><span class="line">序列可允许的最大值。如果指定为NOMAXVALUE，则对升序序列使用默认值1.0E27，对降序序序列使用默认值－1。</span><br><span class="line">● MINVALUE</span><br><span class="line">序列可允许的最小值。如果指定为NOMINVALUE，则对升序序列使用默认值1，对降序序序列使用默认值－1.0E26。</span><br><span class="line">● CYCLE</span><br><span class="line">指定该序列即使已经达到最大值或最小值也继续生成整数。当升序序列达到最大值时，下一个生成的值是最小值。当降序序列达到最小值时，下一个生成的值是最大值。如果指定为NOCYCLE，则序列在达到最大值或最小值之后停止生成任何值。</span><br><span class="line">● CACHE</span><br><span class="line">指定要保留在内存中整数的个数。默认要缓存的整数为20个，可以缓存的整数最少为2个。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">实例：</span><br><span class="line">创建一个升序序列seqCustomer。</span><br><span class="line">CREATE SEQUENCE seqCustomer</span><br><span class="line">INCREMENT BY 1</span><br><span class="line">START WITH 100001</span><br><span class="line">MAXVALUE 999999</span><br><span class="line">NOCYCLE</span><br><span class="line">NOCACHE</span><br><span class="line">ORDER;</span><br><span class="line"></span><br><span class="line">简单方式：</span><br><span class="line">CREATE SEQUENCE seqCustomer;</span><br></pre></td></tr></table></figure>
</li>
<li><p>使用序列</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">（1.）nextval：用于获取序列的下一个序号值</span><br><span class="line">语法格式：</span><br><span class="line"> &lt;sequence_name&gt;.nextval</span><br><span class="line"></span><br><span class="line">（2）currval：用于获取序列的当前序号值。</span><br><span class="line">语法格式：</span><br><span class="line">&lt;sequence_name&gt;.currval</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">实例：</span><br><span class="line"> 向customer表添加记录时，使用创建的序列seqCustomer为表中的主键customerID自动赋值。</span><br><span class="line">创建customer表语句如下。</span><br><span class="line"></span><br><span class="line">CREATE TABLE customer</span><br><span class="line">(</span><br><span class="line">customerID number(6) NOT NULL PRIMARY KEY,</span><br><span class="line">cname char(8) NOT NULL,</span><br><span class="line">address char(40) NULL</span><br><span class="line">);</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</li>
<li><p>修改序列：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">修改序列seqCustomer。</span><br><span class="line">ALTER SEQUENCE seqCustomer</span><br><span class="line">  INCREMENT BY 2;</span><br></pre></td></tr></table></figure>
</li>
<li><p>删除序列</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">语法格式：</span><br><span class="line">DROP SEQUENCE &lt;序列名&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">实例：</span><br><span class="line">DROP SEQUENCE seqCustomer;</span><br></pre></td></tr></table></figure></li>
</ol>
<h1 id="第九章-数据完整性"><a href="#第九章-数据完整性" class="headerlink" title="第九章 数据完整性"></a>第九章 数据完整性</h1><h2 id="数据完整性概述"><a href="#数据完整性概述" class="headerlink" title="数据完整性概述"></a>数据完整性概述</h2><p>通过完整性约束实现数据完整性规则有以下优点：</p>
<ul>
<li>完整性规则定义在表上，存储在数据字典中，应用程序的任何数据都必须遵守表的完整性约束。</li>
<li>当定义或修改完整性约束时，不需要额外编程。</li>
<li>用户可指定完整性约束是启用或禁用。</li>
<li>当由完整性约束所实施的事务规则改变时，只需改变完整性约束的定义，所有应用自动地遵守所修改的约束。</li>
</ul>
<ol>
<li><p>域完整性</p>
<p>域完整性指列数据输入的有效性，又称列完整性，通过CHECK约束、DEFALUT约束、NOT NULL约束、数据类型和规则等实现域完整性。</p>
</li>
<li><p>实体完整性</p>
<p>实体完整性要求表中有一个主键，其值不能为空且能唯一地标识对应的记录，又称为行完整性，通过PRIMARY KEY约束、UNIQUE约束、索引或 IDENTITY 属性等实现数据的实体完整性。</p>
</li>
<li><p>参照完整性</p>
<p>参照完整性保证主表中的数据与从表中数据的一致性，又称为引用完整性，参照完整性确保键值在所有表中一致，通过定义主键(PRIMARY KEY)与外键(FOREIGN KEY)之间的对应关系实现参照完整性。</p>
</li>
</ol>
<p>Oracle数据库中的数据完整性包括域完整性、实体完整性、参照完整性，和实现上述完整性的约束，其中：</p>
<ul>
<li>CHECK约束，检查约束，实现域完整性。</li>
<li>NOT NULL约束，非空约束，实现域完整性。</li>
<li>PRIMARY KEY约束，主键约束，实现实体完整性。</li>
<li>UNIQUE KEY约束，唯一性约束，实现实体完整性。</li>
<li>FOREIGN KEY约束，外键约束，实现参照完整性。</li>
</ul>
<h2 id="域完整性"><a href="#域完整性" class="headerlink" title="域完整性"></a>域完整性</h2><ol>
<li><p>在创建表时创建CHECK约束</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE &lt;表名&gt;</span><br><span class="line">( &lt;列名&gt; &lt;数据类型&gt; [DEFAULT &lt;默认值&gt;] [NOT NULL | NULL]</span><br><span class="line">  [CONSTRAINT &lt;CHECK约束名&gt;] CHECK(&lt;CHECK约束表达式&gt;)      /*定义为列的约束*/</span><br><span class="line">  [,…n]</span><br><span class="line">  [CONSTRAINT &lt;CHECK约束名&gt;] CHECK(&lt;CHECK约束表达式&gt;)      /*定义为表的约束*/</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">CONSTRAINT关键字为CHECK约束定义名称，CHECK约束表达式为逻辑表达式。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">实例：</span><br><span class="line">CREATE TABLE goods2 </span><br><span class="line">(</span><br><span class="line">  gid char(6) NOT NULL PRIMARY KEY,              /*商品号*/</span><br><span class="line">  gname char(20) NOT NULL,                        /*商品名*/</span><br><span class="line">  gclass char(6) NOT NULL,                         /*类型*/</span><br><span class="line">  price number NOT NULL CHECK(price&lt;=8000),       /*价格*/</span><br><span class="line">  tradeprice number NOT NULL,                      /*批发价格*/</span><br><span class="line">  stockqt number NOT NULL,                        /*库存量*/</span><br><span class="line">  orderqt number NULL                             /*订货尚未到货商品数量*/</span><br><span class="line">);</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</li>
<li><p>在修改表时创建CHECK约束</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">语法格式：</span><br><span class="line">ALTER TABLE &lt;表名&gt;</span><br><span class="line">  ADD( CONSTRAINT &lt;CHECK约束名&gt; CHECK(&lt;CHECK约束表达式&gt;))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">实例：</span><br><span class="line">ALTER TABLE goods2 </span><br><span class="line">  ADD CONSTRAINT CK_tradeprice CHECK(tradeprice&lt;=6000);</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</li>
<li><p>删除CHECK约束</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">语法格式：</span><br><span class="line">ALTER TABLE &lt;表名&gt;</span><br><span class="line">  DROP CONSTRAINT &lt;CHECK约束名&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">实例：</span><br><span class="line">ALTER TABLE goods2</span><br><span class="line">  DROP CONSTRAINT CK_tradeprice;</span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="实体完整性"><a href="#实体完整性" class="headerlink" title="实体完整性"></a>实体完整性</h2><p>实体完整性通过PRIMARY KEY约束、UNIQUE约束等实现。通过PRIMARY KEY约束定义主键，一个表只能有一个PRIMARY KEY约束，且PRIMARY KEY约束不能取空值，Oracle为主键自动创建唯一性索引，实现数据的唯一性。</p>
<p>PRIMARY KEY约束与UNIQUE约束主要区别如下：</p>
<ul>
<li>一个表只能创建一个PRIMARY KEY约束，但可创建多个UNIQUE约束。</li>
<li>PRIMARY KEY约束的列值不允许为NULL，UNIQUE约束的列值可取NULL。</li>
<li>创建PRIMARY KEY约束时，系统自动创建聚集索引，创建UNIQUE约束时，系统自动创建非聚集索引。</li>
</ul>
<ol>
<li><p>使用PL&#x2F;SQL语句在创建表时创建PRIMARY KEY约束、UNIQUE约束</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">语法格式：</span><br><span class="line">CREATE TABLE &lt;表名&gt;                           /*指定表名*/</span><br><span class="line">  (&lt;列名&gt; &lt;数据类型&gt; [NULL |NOT NULL] 	         /*定义字段*/</span><br><span class="line">    &#123;[CONSTRAINT &lt;约束名&gt;]                    /*定义约束名*/</span><br><span class="line">    PRIMARY KEY | UNIQUE  &#125;                  /*定义约束类型*/</span><br><span class="line">    [,…n]</span><br><span class="line">  [, [CONSTRAINT &lt;约束名&gt;] &#123;PRIMARY KEY | UNIQUE&#125;(&lt;列名&gt;,[,…n]) ] </span><br><span class="line">      /*在所有列定义完毕后定义约束名和约束类型*/</span><br><span class="line">    ]</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">实例：</span><br><span class="line">商品号列创建PRIMARY KEY约束，对商品名称列创建UNIQUE约束。</span><br><span class="line">CREATE TABLE goods3</span><br><span class="line">(</span><br><span class="line">  gid char(6) NOT NULL CONSTRAINT PK_gid PRIMARY KEY,</span><br><span class="line">  gname char(20) NOT NULL CONSTRAINT UK_gname UNIQUE,</span><br><span class="line">  gclass char(6) NOT NULL,</span><br><span class="line">  price number NOT NULL CONSTRAINT CK_price CHECK(price&lt;=8000),</span><br><span class="line">  tradeprice number NOT NULL,</span><br><span class="line">  stockqt number NOT NULL,</span><br><span class="line">  orderqt number NULL</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
</li>
<li><p>修改表时创建PRIMARY KEY约束或UNIQUE约束   </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">语法格式：  </span><br><span class="line">ALTER TABLE &lt;表名&gt;  </span><br><span class="line">	ADD([CONSTRAINT &lt;约束名&gt;] &#123;PRIMARY KEY | UNIQUE&#125; (&lt;列名&gt;[,…n])</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">实例：</span><br><span class="line">ALTER TABLE goods4</span><br><span class="line">  ADD (CONSTRAINT PK_goodsgid PRIMARY KEY (gid));</span><br><span class="line">ALTER TABLE goods4</span><br><span class="line">  ADD (CONSTRAINT UK_goodsgname UNIQUE (gname));</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</li>
<li><p>删除PRIMARY KEY约束、UNIQUE约束</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">语法格式：</span><br><span class="line">ALTER TABLE &lt;表名&gt;</span><br><span class="line">  DROP CONSTRAINT &lt;约束名&gt;[,…n];</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">实例：</span><br><span class="line">ALTER TABLE goods4</span><br><span class="line">  DROP CONSTRAINT PK_goodsgid;</span><br><span class="line">ALTER TABLE goods4</span><br><span class="line">  DROP CONSTRAINT UK_goodsgname;</span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="参照完整性"><a href="#参照完整性" class="headerlink" title="参照完整性"></a>参照完整性</h2><p>外键约束定义了表与表之间的关系，通过将一个表中一列或多列添加到另一个表中，创建两个表之间的连接，这个列就成为第二个表的外键，通过定义FOREIGN KEY约束来创建外键。</p>
<p>使用PRIMARY KEY约束或UNIQUE约束来定义主表主键或唯一键，FOREIGN KEY约束来定义从表外键，可实现主表与从表之间的参照完整性。</p>
<ol>
<li><p>创建表间参照关系</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">语法格式：   </span><br><span class="line">CREATE TABLE &lt;从表名&gt;</span><br><span class="line">(   &lt;列定义&gt; [ CONSTRAINT &lt;约束名&gt; ] REFERENCES &lt;主表名&gt;[ ( &lt;列名&gt; [ ,...n ] ) ]</span><br><span class="line"> 	  [,…n]</span><br><span class="line"> [ [ CONSTRAINT &lt;约束名&gt; ] [ FOREIGN KEY ( &lt;列名&gt; [,...n ] ) [&lt;参照表达式&gt;]]</span><br><span class="line">)</span><br><span class="line">其中</span><br><span class="line">&lt;参照表达式&gt;::=</span><br><span class="line">REFERENCES &lt;主表名&gt;[ ( &lt;列名&gt; [ ,...n ] ) ] </span><br><span class="line"> [ ON DELETE &#123; CASCADE | SET NULL &#125; ]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">实例：</span><br><span class="line">(1)</span><br><span class="line"></span><br><span class="line">CREATE TABLE stu</span><br><span class="line">(</span><br><span class="line">  sno char(6) NOT NULL REFERENCES student(sno),</span><br><span class="line">  sname char(8) NOT NULL,</span><br><span class="line">  sbirthday date NULL</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">(2)</span><br><span class="line">CREATE TABLE sco</span><br><span class="line">(</span><br><span class="line">  sno char(6)NOT NULL,</span><br><span class="line">  cno char(4)NOT NULL,</span><br><span class="line">  grade int NULL,</span><br><span class="line">  CONSTRAINT FK_sco FOREIGN KEY(sno,cno) REFERENCES score (sno,cno)</span><br><span class="line">     ON DELETE CASCADE</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
</li>
<li><p>修改表定义外键</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">语法格式：</span><br><span class="line">ALTER TABLE &lt;表名&gt;</span><br><span class="line">  ADD CONSTRAINT &lt;约束名&gt;</span><br><span class="line">    FOREIGN KEY( &lt;列名&gt;[,…n])</span><br><span class="line">    REFERENCES &lt;主表名&gt;(&lt;列名&gt;[,…n]) &lt;参照表达式&gt;</span><br><span class="line"></span><br><span class="line">实例：</span><br><span class="line">ALTER TABLE score</span><br><span class="line">  ADD CONSTRAINT FK_score_course FOREIGN KEY(cno)</span><br><span class="line">  REFERENCES course(cno);</span><br></pre></td></tr></table></figure>
</li>
<li><p>删除表间参照关系 </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">语法格式： </span><br><span class="line">ALTER TABLE &lt;表名&gt;</span><br><span class="line">  DROP CONSTRAINT &lt;约束名&gt;[,…n];</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">实例：</span><br><span class="line">ALTER TABLE score</span><br><span class="line">  DROP CONSTRAINT FK_score_course;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<h1 id="第十章-PL-SQL程序设计"><a href="#第十章-PL-SQL程序设计" class="headerlink" title="第十章 PL&#x2F;SQL程序设计"></a>第十章 PL&#x2F;SQL程序设计</h1><h2 id="PL-SQL编程"><a href="#PL-SQL编程" class="headerlink" title="PL&#x2F;SQL编程"></a>PL&#x2F;SQL编程</h2><p>PL&#x2F;SQL具有以下优点：</p>
<ul>
<li><p>模块化</p>
<p>能够使一组SQL语句的功能更具模块化，便于维护。 </p>
</li>
<li><p>可移植性</p>
<p>PL&#x2F;SQL块可以被命名和存储在ORACLE服务器中，能被其他的PL&#x2F;SQL程序或SQL命令调用，具有很好的可移植性。 </p>
</li>
<li><p>安全性</p>
<p>可以使用ORACLE数据工具来管理存储在服务器中的PL&#x2F;SQL程序的安全性，可以对程序中的错误进行自动处理。 </p>
</li>
<li><p>便利性</p>
<p>集成在数据库中，调用更加方便快捷</p>
</li>
<li><p>高性能</p>
<p>PL&#x2F;SQL是一种高性能的基于事务处理的语言，能运行在ORACLE环境中，支持所有的数据处理命令，不占用额外的传输资源，降低了网络拥挤。</p>
</li>
</ul>
<h2 id="PL-SQL字符集"><a href="#PL-SQL字符集" class="headerlink" title="PL&#x2F;SQL字符集"></a>PL&#x2F;SQL字符集</h2><table>
<thead>
<tr>
<th><strong>符  号</strong></th>
<th><strong>意  义</strong></th>
<th><strong>样  例</strong></th>
</tr>
</thead>
<tbody><tr>
<td>()</td>
<td>列表分隔</td>
<td>(‘Edward’, ‘Jane’)</td>
</tr>
<tr>
<td>;</td>
<td>语句结束</td>
<td>Procedure_name(arg1,arg2);</td>
</tr>
<tr>
<td>.</td>
<td>项分离（在例子中分离area与table_name）</td>
<td>Select * from  ares.table_name</td>
</tr>
<tr>
<td>‘</td>
<td>字符串界定符</td>
<td>If var1&#x3D; ‘x+1’</td>
</tr>
<tr>
<td><strong>:&#x3D;</strong></td>
<td><strong>赋值</strong></td>
<td><strong>x:&#x3D;x+1</strong></td>
</tr>
<tr>
<td>| |</td>
<td>并置</td>
<td>Full_name:&#x3D; ‘Jane’|  | ‘ ‘ | | ‘Eyre’</td>
</tr>
<tr>
<td>- -</td>
<td>单行注释符</td>
<td>- -Success!</td>
</tr>
<tr>
<td>&#x2F;<em>和</em>&#x2F;</td>
<td>多行注释起始符和终止符</td>
<td>&#x2F;<em>Continue loop.</em>&#x2F;</td>
</tr>
</tbody></table>
<h2 id="数据类型-1"><a href="#数据类型-1" class="headerlink" title="数据类型"></a>数据类型</h2><h3 id="常用数据类型"><a href="#常用数据类型" class="headerlink" title="常用数据类型"></a>常用数据类型</h3><ol>
<li>VARCHAR类型：VARCHAR与VARCHAR2均为可变长的字符数据类型，含义完全相同。</li>
<li>NUMBER类型：可用来表示所有的数值类型。</li>
<li>DATE类型：用来存放日期时间类型数据。</li>
<li>BOOLEAN类型：逻辑型（布尔型）变量的值为true（真）或false（假）。</li>
</ol>
<h3 id="数据类型转换"><a href="#数据类型转换" class="headerlink" title="数据类型转换"></a>数据类型转换</h3><ul>
<li><p>自动转换</p>
</li>
<li><p>转换函数：</p>
<ol>
<li><p>TO_CHAR：将NUMBER类型转换成CHAR类型</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">DECLARE		/*  自动将结束符转换为/  */</span><br><span class="line">  st_num CHAR (6);</span><br><span class="line">BEGIN</span><br><span class="line">  SELECT TO_CHAR(MAX(sno)) INTO st_num FROM student;</span><br><span class="line">END;</span><br><span class="line">/ 	/*	在命令行输入时	*/</span><br></pre></td></tr></table></figure>
</li>
<li><p>TO_DATE：CHAR转换为DATE</p>
</li>
<li><p>TO_NUMBER：CHAR转换NUMBER</p>
</li>
</ol>
</li>
</ul>
<h2 id="标识符、常量、变量"><a href="#标识符、常量、变量" class="headerlink" title="标识符、常量、变量"></a>标识符、常量、变量</h2><ol>
<li><p>标识符：</p>
<ul>
<li>标识符必须由字母开头。</li>
<li>标识符可以包含字母、数字、下划线、$、#。</li>
<li>标识符长度不能超过30个字符。</li>
<li>标识符不能是PL&#x2F;SQL的关键字。</li>
<li>标识符不区分大小写。</li>
</ul>
</li>
<li><p>常量：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">语法格式：</span><br><span class="line">&lt;常量名&gt; CONSTANT &lt;数据类型&gt;: = &lt;值&gt;；</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">实例：</span><br><span class="line">num CONSTANT NUMBER(2):=80;</span><br><span class="line">str CONSTANT CHAR:= &#x27;World&#x27;;</span><br></pre></td></tr></table></figure>
</li>
<li><p>变量：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">语法格式： </span><br><span class="line">&lt;变量名&gt; &lt;数据类型&gt; [&lt;(宽度): = &lt;初始值&gt;]；</span><br><span class="line"></span><br><span class="line">实例：</span><br><span class="line">name VARCHAR2(10) : = ‘Smith’;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="表达式"><a href="#表达式" class="headerlink" title="表达式"></a>表达式</h2><ol>
<li>赋值表达式</li>
</ol>
   <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">语法格式：</span><br><span class="line">&lt;变量&gt; := &lt;表达式&gt;</span><br><span class="line"></span><br><span class="line">实例：</span><br><span class="line">var_number:=200;</span><br></pre></td></tr></table></figure>

<ol start="2">
<li><p>数值表达式</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">6*(var_number+2)-5</span><br></pre></td></tr></table></figure>
</li>
<li><p>关系表达式</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var_number &lt;500</span><br></pre></td></tr></table></figure>
</li>
<li><p>逻辑表达式</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(var_number &gt;=150) AND (var_number &lt;=500) </span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="PL-SQL基本结构和控制语句"><a href="#PL-SQL基本结构和控制语句" class="headerlink" title="PL&#x2F;SQL基本结构和控制语句"></a>PL&#x2F;SQL基本结构和控制语句</h2><p>基本逻辑结构包括顺序结构、条件结构和循环结构。</p>
<table>
<thead>
<tr>
<th><strong>序号</strong></th>
<th><strong>流程控制语句</strong></th>
<th><strong>说  明</strong></th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>IF-THEN</td>
<td>IF后条件表达式为TRUE，则执行THEN后的语句</td>
</tr>
<tr>
<td>2</td>
<td>IF-THEN-ELSE</td>
<td>IF后条件表达式为TRUE，则执行THEN后的语句；否则执行ELSE后的语句</td>
</tr>
<tr>
<td>3</td>
<td>IF-THEN-ELSIF-THEN-ELSE</td>
<td>IF-THEN-ELSE语句嵌套</td>
</tr>
<tr>
<td>4</td>
<td>LOOP-EXIT-END</td>
<td>在LOOP和END  LOOP中，IF后条件表达式为TRUE，执行EXIT退出循环；否则继续循环</td>
</tr>
<tr>
<td>5</td>
<td>LOOP-EXIT-WHEN-END</td>
<td>在LOOP和END LOOP中，WHEN后条件表达式为TRUE，执行EXIT退出循环；否则继续循环</td>
</tr>
<tr>
<td>6</td>
<td>WHILE-LOOP-END</td>
<td>WHILE后条件表达式为TRUE，继续循环；否则退出循环</td>
</tr>
<tr>
<td>7</td>
<td>FOR-IN-LOOP-END</td>
<td>FOR后循环变量的值小于终值，继续循环；否则退出循环</td>
</tr>
<tr>
<td>8</td>
<td>CASE</td>
<td>通过多分支结构作出选择</td>
</tr>
<tr>
<td>9</td>
<td>GOTO</td>
<td>将流程转移到标号指定的位置</td>
</tr>
</tbody></table>
<h3 id="程序块"><a href="#程序块" class="headerlink" title="程序块"></a>程序块</h3><ol>
<li><p>PL&#x2F;SQL块的基本结构：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">语法格式：</span><br><span class="line">[ DECLARE ]</span><br><span class="line">--声明部分</span><br><span class="line">BEGIN</span><br><span class="line">--执行部分</span><br><span class="line">[EXCEPTION]</span><br><span class="line">--异常处理部分</span><br><span class="line">END</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">实例：</span><br><span class="line">计算8和9的乘积。</span><br><span class="line">SET SERVEROUTPUT ON;	/*打开Oracle自带的输出方法DBMS_OUTPUT*/</span><br><span class="line">DECLARE</span><br><span class="line">  m NUMBER:=8;</span><br><span class="line">BEGIN</span><br><span class="line">  m:=m*9;</span><br><span class="line">  DBMS_OUTPUT.PUT_LINE(&#x27;乘积为：&#x27;||TO_CHAR(m));</span><br><span class="line">END;</span><br></pre></td></tr></table></figure>
</li>
<li><p>将SQL语言查询结果存入变量</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">语法格式：</span><br><span class="line"> </span><br><span class="line">SELECT &lt;列名列表&gt; INTO &lt;变量列表&gt;</span><br><span class="line">FROM &lt;表名&gt;</span><br><span class="line">WHERE &lt;条件表达式&gt;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">实例： </span><br><span class="line">将学生数存入变量v_count，将学号为184003学生姓名和性别分别存入变量v_name和v_sex。</span><br><span class="line">DECLARE</span><br><span class="line">  v_count NUMBER;</span><br><span class="line">  v_name student.sname%TYPE;</span><br><span class="line">  v_sex student.ssex%TYPE;</span><br><span class="line">BEGIN</span><br><span class="line">  SELECT COUNT(*) INTO v_count         /* 一次存入一个变量 */</span><br><span class="line">    FROM student;</span><br><span class="line">  SELECT sname,ssex INTO v_name,v_sex     /* 一次存入两个变量 */</span><br><span class="line">    FROM student</span><br><span class="line">    WHERE sno=&#x27;184003&#x27;; </span><br><span class="line">  DBMS_OUTPUT.PUT_LINE(&#x27;学生数为：&#x27; || v_count); </span><br><span class="line">  DBMS_OUTPUT.PUT_LINE(&#x27;184003学生姓名为：&#x27; || v_name); </span><br><span class="line">  DBMS_OUTPUT.PUT_LINE(&#x27;184003学生性别为：&#x27; || v_sex); </span><br><span class="line">END;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="条件结构"><a href="#条件结构" class="headerlink" title="条件结构"></a>条件结构</h3><ol>
<li><p>IF-THEN结构</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">语法格式：</span><br><span class="line">IF &lt;条件表达式&gt; THEN          /*条件表达式*/ </span><br><span class="line">  &lt;PL/SQL语句&gt;;                     /*条件表达式为真时执行*/</span><br><span class="line">END IF;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">实例：</span><br><span class="line">查询总学分大于和等于50分的学生人数。</span><br><span class="line"></span><br><span class="line">DECLARE</span><br><span class="line">  p_no NUMBER (2);</span><br><span class="line">BEGIN</span><br><span class="line">  SELECT COUNT(*) INTO p_no</span><br><span class="line">    FROM student</span><br><span class="line">    WHERE tc&gt;=50;</span><br><span class="line">  IF p_no&lt;&gt;0 THEN</span><br><span class="line">    DBMS_OUTPUT.PUT_LINE (&#x27;总学分&gt;=50的人数为：&#x27; || TO_CHAR(p_no));</span><br><span class="line">  END IF;</span><br><span class="line">END;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</li>
<li><p>IF-THEN-ELSIF-THEN-ELSE结构</p>
</li>
</ol>
   <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">语法格式：</span><br><span class="line">IF &lt;条件表达式1&gt; THEN      </span><br><span class="line">  &lt;PL/SQL语句1&gt;;              </span><br><span class="line">ELSIF &lt;条件表达式2&gt; THEN  </span><br><span class="line">  &lt;PL/SQL语句2&gt;;             </span><br><span class="line">ELSE</span><br><span class="line">  &lt;PL/SQL语句3&gt;;            </span><br><span class="line">END IF;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">实例：</span><br><span class="line">如果”高等数学”课程的平均成绩大于80分，则显示”高等数学平均成绩高于80”，否则显示”高等数学平均成绩低于80”。</span><br><span class="line"></span><br><span class="line">DECLARE </span><br><span class="line">  g_avg NUMBER(4,2);</span><br><span class="line">BEGIN</span><br><span class="line">  SELECT AVG(grade) INTO g_avg</span><br><span class="line">    FROM student a, course b, score c</span><br><span class="line">    WHERE a.sno=c.sno</span><br><span class="line">      AND b.cno=c.cno  </span><br><span class="line">      AND b.cname=&#x27;高等数学&#x27;;</span><br><span class="line">  IF g_avg &gt;80 THEN</span><br><span class="line">    DBMS_OUTPUT.PUT_LINE (&#x27;高等数学平均成绩高于80&#x27;);</span><br><span class="line">ELSE </span><br><span class="line">    DBMS_OUTPUT.PUT_LINE (&#x27;高等数学平均成绩低于80&#x27;); </span><br><span class="line">  END IF;</span><br><span class="line">END;</span><br></pre></td></tr></table></figure>

<h3 id="CASE语句"><a href="#CASE语句" class="headerlink" title="CASE语句"></a>CASE语句</h3><ol>
<li><p>简单CASE语句</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">语法格式：</span><br><span class="line">CASE &lt;变量名&gt;</span><br><span class="line">  WHEN &lt;值1&gt; THEN &lt;语句1&gt;</span><br><span class="line">  WHEN &lt;值2&gt; THEN &lt;语句2&gt;</span><br><span class="line">  …</span><br><span class="line">  WHEN &lt;值n&gt; THEN &lt;语句n&gt;</span><br><span class="line">  [ELSE &lt;语句&gt;]</span><br><span class="line">END CASE;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">实例：</span><br><span class="line">将教师职称转变为职称类型。</span><br><span class="line"> </span><br><span class="line">DECLARE</span><br><span class="line">  t_title CHAR(12);</span><br><span class="line">  t_op VARCHAR2(8);</span><br><span class="line">BEGIN</span><br><span class="line">  SELECT title INTO t_title</span><br><span class="line">    FROM teacher</span><br><span class="line">    WHERE tname=&#x27;李志远&#x27;;</span><br><span class="line">  CASE t_title</span><br><span class="line">    WHEN &#x27;教授&#x27; THEN t_op:=&#x27;高级职称&#x27;;</span><br><span class="line">    WHEN &#x27;副教授&#x27; THEN t_op:=&#x27;高级职称&#x27;;</span><br><span class="line">    WHEN &#x27;讲师&#x27; THEN t_op:=&#x27;中级职称&#x27;;</span><br><span class="line">    WHEN &#x27;助教&#x27; THEN t_op:=&#x27;初级职称&#x27;;</span><br><span class="line">    ELSE t_op:=&#x27;Nothing&#x27;;</span><br><span class="line">  END CASE;</span><br><span class="line">DBMS_OUTPUT.PUT_LINE(&#x27;李志远的职是：&#x27;||t_op);</span><br><span class="line">END;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</li>
<li><p>搜索CASE语句</p>
</li>
</ol>
<p>   搜索CASE语句在WHEN关键字后设置布尔表达式，选择第一个为TRUE的布尔表达式，执行THEN关键字后的语句，并结束CASE语句。</p>
   <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">语法格式：</span><br><span class="line">CASE</span><br><span class="line">  WHEN &lt;布尔表达式1&gt; THEN &lt;语句1&gt;</span><br><span class="line">  WHEN &lt;布尔表达式2&gt; THEN &lt;语句2&gt;</span><br><span class="line">  …</span><br><span class="line">  WHEN &lt;布尔表达式n&gt; THEN &lt;语句n&gt;</span><br><span class="line">  [ELSE &lt;语句&gt;]</span><br><span class="line">END CASE;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">实例：</span><br><span class="line">将学生成绩转变为成绩等级。</span><br><span class="line"> </span><br><span class="line">DECLARE</span><br><span class="line">  v_grade NUMBER;</span><br><span class="line">  v_result VARCHAR2(16);</span><br><span class="line">BEGIN</span><br><span class="line">  SELECT AVG(grade) INTO v_grade</span><br><span class="line">    FROM score</span><br><span class="line">    WHERE sno=&#x27;184001&#x27;;</span><br><span class="line">  CASE</span><br><span class="line">    WHEN v_grade&gt;=90 AND v_grade&lt;=100 THEN v_result:=&#x27;优秀&#x27;;</span><br><span class="line">    WHEN v_grade&gt;=80 AND v_grade&lt;90 THEN v_result:=&#x27;良好&#x27;;</span><br><span class="line">    WHEN v_grade&gt;=70 AND v_grade&lt;80 THEN v_result:=&#x27;中等&#x27;;</span><br><span class="line">    WHEN v_grade&gt;=60 AND v_grade&lt;70 THEN v_result:=&#x27;及格&#x27;;</span><br><span class="line">    WHEN v_grade&gt;=0 AND v_grade&lt;60 THEN v_result:=&#x27;不及格&#x27;;</span><br><span class="line">    ELSE v_result:= &#x27;Nothing&#x27;;</span><br><span class="line">  END CASE;</span><br><span class="line">DBMS_OUTPUT.PUT_LINE(&#x27;学号为184001的平均成绩：&#x27;||v_result);</span><br><span class="line">END;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="循环结构"><a href="#循环结构" class="headerlink" title="循环结构"></a>循环结构</h3><ol>
<li>LOOP-EXIT-END循环</li>
</ol>
   <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">语法格式：</span><br><span class="line">LOOP</span><br><span class="line">  &lt;循环体&gt;                    /*执行循环体*/</span><br><span class="line">  IF &lt;条件表达式&gt; THEN        /*测试条件表达式是否符合退出条件*/</span><br><span class="line">    EXIT;                     /*满足退出条件，退出循环*/</span><br><span class="line">  END IF;</span><br><span class="line">END LOOP;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">实例：</span><br><span class="line">计算1~100的整数和。</span><br><span class="line"> </span><br><span class="line">DECLARE</span><br><span class="line">  v_n NUMBER:=1;</span><br><span class="line">  v_s NUMBER:=0;</span><br><span class="line">BEGIN</span><br><span class="line">  LOOP</span><br><span class="line">    v_s:=v_s+v_n;</span><br><span class="line">    v_n:=v_n+1;</span><br><span class="line">    IF v_n&gt;100 THEN</span><br><span class="line">      EXIT;</span><br><span class="line">    END IF;</span><br><span class="line">  END LOOP;</span><br><span class="line">DBMS_OUTPUT.PUT_LINE(&#x27;1~100的和为：&#x27;||v_s);</span><br><span class="line">END;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ol start="2">
<li><p>LOOP-EXIT-WHEN-END循环</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">语法格式：</span><br><span class="line"> </span><br><span class="line">LOOP</span><br><span class="line">  &lt;循环体&gt;                       /*执行循环体*/</span><br><span class="line">  EXIT WHEN &lt;条件表达式&gt;        /*测试是否符合退出条件*/</span><br><span class="line">END LOOP;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">实例：</span><br><span class="line">计算1~100的整数和。</span><br><span class="line"> </span><br><span class="line">DECLARE</span><br><span class="line">  v_n NUMBER:=1;</span><br><span class="line">  v_s NUMBER:=0;</span><br><span class="line">BEGIN</span><br><span class="line">  LOOP</span><br><span class="line">    v_s:=v_s+v_n;</span><br><span class="line">    v_n:=v_n+1;</span><br><span class="line">    EXIT WHEN v_n=101;</span><br><span class="line">  END LOOP;</span><br><span class="line">  DBMS_OUTPUT.PUT_LINE(&#x27;1~100的和为：&#x27;||v_s);</span><br><span class="line">END;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</li>
<li><p>WHILE-LOOP-END循环</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">语法格式：</span><br><span class="line"> </span><br><span class="line">WHILE &lt;条件表达式&gt;          /*测试是否符合循环条件*/</span><br><span class="line">  LOOP</span><br><span class="line">    &lt;循环体&gt;                 /*执行循环体*/</span><br><span class="line">  END LOOP;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">实例：</span><br><span class="line"> 计算1~100的奇数和。</span><br><span class="line"> </span><br><span class="line">DECLARE</span><br><span class="line">  v_n NUMBER:=1;</span><br><span class="line">  v_s NUMBER:=0;</span><br><span class="line">BEGIN</span><br><span class="line">  WHILE v_n&lt;=100 </span><br><span class="line">    LOOP</span><br><span class="line">      IF MOD(v_n, 2)&lt;&gt;0 THEN</span><br><span class="line">        v_s:=v_s+v_n;</span><br><span class="line">      END IF;</span><br><span class="line">      v_n:=v_n+1;</span><br><span class="line">    END LOOP;</span><br><span class="line"> DBMS_OUTPUT.PUT_LINE(&#x27;1~100的奇数和为：&#x27;||v_s);</span><br><span class="line">END;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</li>
<li><p>FOR-IN-LOOP-END循环</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">语法格式：</span><br><span class="line">FOR &lt;循环变量名&gt; IN &lt;变量初值&gt;..&lt;变量终值&gt;     /*定义跟踪循环的变量*/</span><br><span class="line">  LOOP</span><br><span class="line">    &lt;循环体&gt;                                   /*执行循环体*/</span><br><span class="line">  END LOOP;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">实例：</span><br><span class="line">计算10的阶乘。</span><br><span class="line">   </span><br><span class="line">DECLARE</span><br><span class="line">  v_n NUMBER;</span><br><span class="line">  v_s NUMBER:=1;</span><br><span class="line">BEGIN</span><br><span class="line">  FOR v_n IN 1..10 </span><br><span class="line">    LOOP</span><br><span class="line">      v_s:=v_s*v_n;</span><br><span class="line">    END LOOP;</span><br><span class="line">  DBMS_OUTPUT.PUT_LINE(&#x27;10!=&#x27;||v_s);</span><br><span class="line">END;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="GOTO语句"><a href="#GOTO语句" class="headerlink" title="GOTO语句"></a>GOTO语句</h3><p>GOTO语句用于实现无条件的跳转，将执行流程转移到标号指定的位置</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">语法格式：</span><br><span class="line">GOTO  &lt;标号&gt;</span><br><span class="line">   </span><br><span class="line">GOTO关键字后面的语句标号必须符合标识符规则。</span><br><span class="line">标号的定义形式如下：</span><br><span class="line">   </span><br><span class="line">&lt;&lt;标号&gt;&gt; 语句</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">实例：</span><br><span class="line">计算1-100的整数和。</span><br><span class="line">DECLARE</span><br><span class="line">  v_n NUMBER:=1;</span><br><span class="line">  v_s NUMBER:=0;</span><br><span class="line">BEGIN</span><br><span class="line">  &lt;&lt;ls&gt;&gt;</span><br><span class="line">  v_s:= v_s+ v_n;</span><br><span class="line">  v_n:= v_n+1; </span><br><span class="line">  IF v_n&lt;=100 THEN</span><br><span class="line">    GOTO ls;</span><br><span class="line">  END IF;</span><br><span class="line">  DBMS_OUTPUT.PUT_LINE(&#x27;1~100的整数和为：&#x27;|| v_s);</span><br><span class="line">END;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h3 id="异常"><a href="#异常" class="headerlink" title="异常"></a>异常</h3><ol>
<li><p>预定义异常</p>
<p>预定义异常是PL&#x2F;SQL已经预先定义好名称异常。</p>
<table>
<thead>
<tr>
<th><strong>异  常</strong></th>
<th><strong>说  明</strong></th>
</tr>
</thead>
<tbody><tr>
<td>NO_DATA_FOUND</td>
<td>如果一个SELECT语句试图基于其条件检索数据，此异常表示不存在满足条件的数据行</td>
</tr>
<tr>
<td>TOO_MANY_ROWS</td>
<td>检测到有多行数据存在</td>
</tr>
<tr>
<td>ZERO_DIVIDE</td>
<td>试图被零除</td>
</tr>
<tr>
<td>DUP_VAL_ON_INDEX</td>
<td>如果某索引中已有某键列值，若还要在该索引中创建该键码值的索引项时，出现此异常</td>
</tr>
<tr>
<td>VALUE_ERROR</td>
<td>指定目标域的长度小于待放入其中的数据的长度</td>
</tr>
<tr>
<td>CASE_NOT_FOUND</td>
<td>在CASE语句中发现不匹配的WHEN语句</td>
</tr>
</tbody></table>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">实例：</span><br><span class="line">处理ZERO_DIVIDE异常。</span><br><span class="line">DECLARE</span><br><span class="line">  v_zero NUMBER:=0;</span><br><span class="line">  v_result NUMBER;</span><br><span class="line">BEGIN</span><br><span class="line">  v_result:=100/v_zero;          /*100除以v_zero，即100/0，产生除数为零异常*/</span><br><span class="line">  EXCEPTION                 /*异常处理部分*/</span><br><span class="line">    WHEN ZERO_DIVIDE THEN</span><br><span class="line">      DBMS_OUTPUT.PUT_LINE(&#x27;除数为0异常&#x27;);</span><br><span class="line">END;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</li>
<li><p>用户定义异常</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">语法格式：</span><br><span class="line"> </span><br><span class="line">EXCEPTION</span><br><span class="line">  WHEN exception_name THEN</span><br><span class="line">  sequence_of_statements1;</span><br><span class="line">  WHEN THEN</span><br><span class="line">    sequence_of_statements2;</span><br><span class="line">  [WHEN OTHERS THEN</span><br><span class="line">    sequence_of_statements3;]</span><br><span class="line">END;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">实例：</span><br><span class="line">对超出允许的学生数进行异常处理</span><br><span class="line"> </span><br><span class="line">DECLARE</span><br><span class="line">  e_overnum EXCEPTION;          /*定义异常处理变量*/</span><br><span class="line">  v_num NUMBER;</span><br><span class="line">  max_num NUMBER:=5;           /*定义最大允许学生数变量*/</span><br><span class="line">BEGIN</span><br><span class="line">  SELECT COUNT(*) INTO v_num</span><br><span class="line">  FROM student;</span><br><span class="line">  IF max_num&lt;v_num THEN</span><br><span class="line">    RAISE e_overnum;             /*使用RAISE语句抛出用户定义异常*/</span><br><span class="line">  END IF;</span><br><span class="line">  EXCEPTION                    /*异常处理部分*/</span><br><span class="line">  WHEN e_overnum THEN</span><br><span class="line">      DBMS_OUTPUT.PUT_LINE(&#x27;现在学生数是：&#x27; || v_num||&#x27;  而最大允许数是：&#x27; ||max_num );</span><br><span class="line">END;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
</article><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E5%A4%A7%E6%95%B0%E6%8D%AE/">大数据</a></div><div class="post_share"><div class="social-share" data-image="/img/%E5%9B%BE%E7%89%87/015.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-full"><a href="/2023/11/18/1.%E8%AE%A1%E7%AE%97%E6%9C%BA/2.%E5%A4%A7%E6%95%B0%E6%8D%AE/18.Hadoop%E5%A4%A7%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86/" title="Hadoop大数据处理"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/%E5%9B%BE%E7%89%87/016.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">Hadoop大数据处理</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/2023/11/03/1.%E8%AE%A1%E7%AE%97%E6%9C%BA/2.%E5%A4%A7%E6%95%B0%E6%8D%AE/12.Spark/" title="spark"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/%E5%9B%BE%E7%89%87/011.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-11-03</div><div class="title">spark</div></div></a></div><div><a href="/2023/11/02/1.%E8%AE%A1%E7%AE%97%E6%9C%BA/2.%E5%A4%A7%E6%95%B0%E6%8D%AE/16.Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%8F%AF%E8%A7%86%E5%8C%96/" title="Python数据分析与可视化"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/%E5%9B%BE%E7%89%87/011.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-11-02</div><div class="title">Python数据分析与可视化</div></div></a></div><div><a href="/2023/11/18/1.%E8%AE%A1%E7%AE%97%E6%9C%BA/2.%E5%A4%A7%E6%95%B0%E6%8D%AE/18.Hadoop%E5%A4%A7%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86/" title="Hadoop大数据处理"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/%E5%9B%BE%E7%89%87/016.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-11-18</div><div class="title">Hadoop大数据处理</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/touxiang.JPG" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">HQH</div><div class="author-info__description">我要睡到自然醒</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">7</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">4</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">4</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/silent-wuhen"><i class="fab fa-github"></i><span>GitHub</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">此网站仅个人学习使用，如有侵权请联系QQ：3281320387删除。</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%89%8D%E8%A8%80"><span class="toc-number">1.</span> <span class="toc-text">前言</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC%E4%B8%80%E7%AB%A0-%E6%A6%82%E8%AE%BA"><span class="toc-number">2.</span> <span class="toc-text">第一章 概论</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E6%A6%82%E8%BF%B0"><span class="toc-number">2.1.</span> <span class="toc-text">数据库系统概述</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-number">2.1.1.</span> <span class="toc-text">数据库</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84"><span class="toc-number">2.2.</span> <span class="toc-text">数据库系统结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E7%9A%84%E4%B8%89%E7%BA%A7%E6%A8%A1%E5%BC%8F%E7%BB%93%E6%9E%84"><span class="toc-number">2.2.1.</span> <span class="toc-text">数据库系统的三级模式结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E4%BA%8C%E7%BA%A7%E6%98%A0%E5%83%8F%E5%8A%9F%E8%83%BD%E5%92%8C%E6%95%B0%E6%8D%AE%E7%8B%AC%E7%AB%8B%E6%80%A7"><span class="toc-number">2.2.2.</span> <span class="toc-text">数据库的二级映像功能和数据独立性</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E6%A8%A1%E5%9E%8B"><span class="toc-number">2.3.</span> <span class="toc-text">数据模型</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%A4%E7%B1%BB%E6%95%B0%E6%8D%AE%E6%A8%A1%E5%9E%8B"><span class="toc-number">2.3.1.</span> <span class="toc-text">两类数据模型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E6%A8%A1%E5%9E%8B%E7%BB%84%E6%88%90%E8%A6%81%E7%B4%A0"><span class="toc-number">2.3.2.</span> <span class="toc-text">数据模型组成要素</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B1%82%E6%AC%A1%EF%BC%8C%E7%BD%91%E7%8A%B6%EF%BC%8C%E5%85%B3%E7%B3%BB%E6%A8%A1%E5%9E%8B"><span class="toc-number">2.3.3.</span> <span class="toc-text">层次，网状，关系模型</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%B3%E7%B3%BB%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-number">2.4.</span> <span class="toc-text">关系数据库</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="toc-number">2.4.1.</span> <span class="toc-text">基本概念</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B3%E7%B3%BB%E8%BF%90%E7%AE%97"><span class="toc-number">2.4.2.</span> <span class="toc-text">关系运算</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1"><span class="toc-number">2.5.</span> <span class="toc-text">数据库设计</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E8%AE%BE%E8%AE%A1%E5%9F%BA%E6%9C%AC%E6%AD%A5%E9%AA%A4"><span class="toc-number">2.5.1.</span> <span class="toc-text">数据库的设计基本步骤</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#E-R%E6%A8%A1%E5%9E%8B"><span class="toc-number">2.5.2.</span> <span class="toc-text">E-R模型</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC%E4%BA%8C%E7%AB%A0-Oracle%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-number">3.</span> <span class="toc-text">第二章 Oracle数据库</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Oracle-12c%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E7%89%B9%E6%80%A7"><span class="toc-number">3.1.</span> <span class="toc-text">Oracle 12c数据库的特性</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Oracle-12c%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AE%89%E8%A3%85%E4%B8%8E%E5%8D%B8%E8%BD%BD%EF%BC%88%E6%9C%AA%E5%AE%8C%E6%88%90%EF%BC%89"><span class="toc-number">3.2.</span> <span class="toc-text">Oracle 12c数据库安装与卸载（未完成）</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC%E4%B8%89%E7%AB%A0-%E5%88%9B%E5%BB%BA%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-number">4.</span> <span class="toc-text">第三章 创建数据库</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Oracle-%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84"><span class="toc-number">4.1.</span> <span class="toc-text">Oracle 数据库的体系结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%BB%E8%BE%91%E7%BB%93%E6%9E%84"><span class="toc-number">4.1.1.</span> <span class="toc-text">逻辑结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%89%A9%E7%90%86%E7%BB%93%E6%9E%84"><span class="toc-number">4.1.2.</span> <span class="toc-text">物理结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%BB%E4%BD%93%E7%BB%93%E6%9E%84"><span class="toc-number">4.1.3.</span> <span class="toc-text">总体结构</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E5%92%8C%E5%88%A0%E9%99%A4%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-number">4.2.</span> <span class="toc-text">创建和删除数据库</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC%E5%9B%9B%E7%AB%A0-%E5%88%9B%E5%BB%BA%E5%92%8C%E4%BD%BF%E7%94%A8%E8%A1%A8"><span class="toc-number">5.</span> <span class="toc-text">第四章 创建和使用表</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%A1%A8%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="toc-number">5.1.</span> <span class="toc-text">表的基本概念</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A1%A8%E4%B8%8E%E8%A1%A8%E7%BB%93%E6%9E%84"><span class="toc-number">5.1.1.</span> <span class="toc-text">表与表结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="toc-number">5.1.2.</span> <span class="toc-text">数据类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A1%A8%E7%BB%93%E6%9E%84%E8%AE%BE%E8%AE%A1"><span class="toc-number">5.1.3.</span> <span class="toc-text">表结构设计</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E8%A1%A8%E3%80%81%E4%BF%AE%E6%94%B9%E8%A1%A8%E5%92%8C%E5%88%A0%E9%99%A4%E8%A1%A8"><span class="toc-number">5.2.</span> <span class="toc-text">创建表、修改表和删除表</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%A1%A8%E6%95%B0%E6%8D%AE%E7%9A%84%E6%93%8D%E4%BD%9C"><span class="toc-number">5.3.</span> <span class="toc-text">表数据的操作</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC%E4%BA%94%E7%AB%A0-PL-SQL%E5%9F%BA%E7%A1%80"><span class="toc-number">6.</span> <span class="toc-text">第五章 PL&#x2F;SQL基础</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#SQL-%E5%92%8C-PL-SQL"><span class="toc-number">6.1.</span> <span class="toc-text">SQL 和 PL&#x2F;SQL</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9C%A8PL-SQL%E4%B8%AD%E7%9A%84%E6%95%B0%E6%8D%AE%E5%AE%9A%E4%B9%89%E8%AF%AD%E8%A8%80"><span class="toc-number">6.2.</span> <span class="toc-text">在PL&#x2F;SQL中的数据定义语言</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E6%93%8D%E4%BD%9C%E8%AF%AD%E5%8F%A5"><span class="toc-number">6.2.1.</span> <span class="toc-text">数据库操作语句</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A1%A8%E7%A9%BA%E9%97%B4%E6%93%8D%E4%BD%9C%E8%AF%AD%E5%8F%A5"><span class="toc-number">6.2.2.</span> <span class="toc-text">表空间操作语句</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A1%A8%E6%93%8D%E4%BD%9C%E8%AF%AD%E5%8F%A5"><span class="toc-number">6.2.3.</span> <span class="toc-text">表操作语句</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9C%A8PL-SQL%E4%B8%AD%E7%9A%84%E6%95%B0%E6%8D%AE%E6%93%8D%E4%BD%9C%E8%AF%AD%E8%A8%80"><span class="toc-number">6.3.</span> <span class="toc-text">在PL&#x2F;SQL中的数据操作语言</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9C%A8PL-SQL%E4%B8%AD%E7%9A%84%E6%95%B0%E6%8D%AE%E6%9F%A5%E8%AF%A2%E8%AF%AD%E8%A8%80"><span class="toc-number">6.4.</span> <span class="toc-text">在PL&#x2F;SQL中的数据查询语言</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8A%95%E5%BD%B1%E6%9F%A5%E8%AF%A2"><span class="toc-number">6.4.1.</span> <span class="toc-text">投影查询</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%89%E6%8B%A9%E6%9F%A5%E8%AF%A2"><span class="toc-number">6.4.2.</span> <span class="toc-text">选择查询</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%86%E7%BB%84%E6%9F%A5%E8%AF%A2%E5%92%8C%E7%BB%9F%E8%AE%A1%E8%AE%A1%E7%AE%97"><span class="toc-number">6.4.3.</span> <span class="toc-text">分组查询和统计计算</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8E%92%E5%BA%8F%E6%9F%A5%E8%AF%A2"><span class="toc-number">6.4.4.</span> <span class="toc-text">排序查询</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC%E5%85%AD%E7%AB%A0-PL-SQL%E6%9F%A5%E8%AF%A2%E9%AB%98%E7%BA%A7"><span class="toc-number">7.</span> <span class="toc-text">第六章 PL&#x2F;SQL查询高级</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%9E%E6%8E%A5%E6%9F%A5%E8%AF%A2"><span class="toc-number">7.1.</span> <span class="toc-text">连接查询</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9B%86%E5%90%88%E6%9F%A5%E8%AF%A2"><span class="toc-number">7.2.</span> <span class="toc-text">集合查询</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AD%90%E6%9F%A5%E8%AF%A2"><span class="toc-number">7.3.</span> <span class="toc-text">子查询</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC%E4%B8%83%E7%AB%A0-%E8%A7%86%E5%9B%BE%EF%BC%88View%EF%BC%89"><span class="toc-number">8.</span> <span class="toc-text">第七章 视图（View）</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E8%A7%86%E5%9B%BE"><span class="toc-number">8.1.</span> <span class="toc-text">创建视图</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9F%A5%E8%AF%A2%E8%A7%86%E5%9B%BE"><span class="toc-number">8.2.</span> <span class="toc-text">查询视图</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9%E8%A7%86%E5%9B%BE%E5%AE%9A%E4%B9%89"><span class="toc-number">8.3.</span> <span class="toc-text">修改视图定义</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E8%A7%86%E5%9B%BE"><span class="toc-number">8.4.</span> <span class="toc-text">删除视图</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9B%B4%E6%96%B0%E8%A7%86%E5%9B%BE"><span class="toc-number">8.5.</span> <span class="toc-text">更新视图</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC%E5%85%AB%E7%AB%A0-%E7%B4%A2%E5%BC%95%EF%BC%88INDEX%EF%BC%89%E5%92%8C%E5%BA%8F%E5%88%97%EF%BC%88sequence%EF%BC%89"><span class="toc-number">9.</span> <span class="toc-text">第八章 索引（INDEX）和序列（sequence）</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B4%A2%E5%BC%95%E6%A6%82%E8%BF%B0"><span class="toc-number">9.1.</span> <span class="toc-text">索引概述</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E7%B4%A2%E5%BC%95%E3%80%81%E4%BF%AE%E6%94%B9%E7%B4%A2%E5%BC%95%E5%92%8C%E5%88%A0%E9%99%A4%E7%B4%A2%E5%BC%95"><span class="toc-number">9.2.</span> <span class="toc-text">创建索引、修改索引和删除索引</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BA%8F%E5%88%97%E6%A6%82%E8%BF%B0"><span class="toc-number">9.3.</span> <span class="toc-text">序列概述</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E3%80%81%E4%BD%BF%E7%94%A8%E3%80%81%E4%BF%AE%E6%94%B9%E5%92%8C%E5%88%A0%E9%99%A4%E5%BA%8F%E5%88%97"><span class="toc-number">9.4.</span> <span class="toc-text">创建、使用、修改和删除序列</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC%E4%B9%9D%E7%AB%A0-%E6%95%B0%E6%8D%AE%E5%AE%8C%E6%95%B4%E6%80%A7"><span class="toc-number">10.</span> <span class="toc-text">第九章 数据完整性</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%AE%8C%E6%95%B4%E6%80%A7%E6%A6%82%E8%BF%B0"><span class="toc-number">10.1.</span> <span class="toc-text">数据完整性概述</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9F%9F%E5%AE%8C%E6%95%B4%E6%80%A7"><span class="toc-number">10.2.</span> <span class="toc-text">域完整性</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%9E%E4%BD%93%E5%AE%8C%E6%95%B4%E6%80%A7"><span class="toc-number">10.3.</span> <span class="toc-text">实体完整性</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%82%E7%85%A7%E5%AE%8C%E6%95%B4%E6%80%A7"><span class="toc-number">10.4.</span> <span class="toc-text">参照完整性</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC%E5%8D%81%E7%AB%A0-PL-SQL%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1"><span class="toc-number">11.</span> <span class="toc-text">第十章 PL&#x2F;SQL程序设计</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#PL-SQL%E7%BC%96%E7%A8%8B"><span class="toc-number">11.1.</span> <span class="toc-text">PL&#x2F;SQL编程</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#PL-SQL%E5%AD%97%E7%AC%A6%E9%9B%86"><span class="toc-number">11.2.</span> <span class="toc-text">PL&#x2F;SQL字符集</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B-1"><span class="toc-number">11.3.</span> <span class="toc-text">数据类型</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="toc-number">11.3.1.</span> <span class="toc-text">常用数据类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2"><span class="toc-number">11.3.2.</span> <span class="toc-text">数据类型转换</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A0%87%E8%AF%86%E7%AC%A6%E3%80%81%E5%B8%B8%E9%87%8F%E3%80%81%E5%8F%98%E9%87%8F"><span class="toc-number">11.4.</span> <span class="toc-text">标识符、常量、变量</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-number">11.5.</span> <span class="toc-text">表达式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#PL-SQL%E5%9F%BA%E6%9C%AC%E7%BB%93%E6%9E%84%E5%92%8C%E6%8E%A7%E5%88%B6%E8%AF%AD%E5%8F%A5"><span class="toc-number">11.6.</span> <span class="toc-text">PL&#x2F;SQL基本结构和控制语句</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A8%8B%E5%BA%8F%E5%9D%97"><span class="toc-number">11.6.1.</span> <span class="toc-text">程序块</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9D%A1%E4%BB%B6%E7%BB%93%E6%9E%84"><span class="toc-number">11.6.2.</span> <span class="toc-text">条件结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#CASE%E8%AF%AD%E5%8F%A5"><span class="toc-number">11.6.3.</span> <span class="toc-text">CASE语句</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BE%AA%E7%8E%AF%E7%BB%93%E6%9E%84"><span class="toc-number">11.6.4.</span> <span class="toc-text">循环结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#GOTO%E8%AF%AD%E5%8F%A5"><span class="toc-number">11.6.5.</span> <span class="toc-text">GOTO语句</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BC%82%E5%B8%B8"><span class="toc-number">11.6.6.</span> <span class="toc-text">异常</span></a></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2023/11/28/1.%E8%AE%A1%E7%AE%97%E6%9C%BA/2.%E5%A4%A7%E6%95%B0%E6%8D%AE/13.Oracle/" title="Oracle数据库"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/%E5%9B%BE%E7%89%87/015.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Oracle数据库"/></a><div class="content"><a class="title" href="/2023/11/28/1.%E8%AE%A1%E7%AE%97%E6%9C%BA/2.%E5%A4%A7%E6%95%B0%E6%8D%AE/13.Oracle/" title="Oracle数据库">Oracle数据库</a><time datetime="2023-11-28T15:16:12.000Z" title="发表于 2023-11-28 23:16:12">2023-11-28</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/11/18/1.%E8%AE%A1%E7%AE%97%E6%9C%BA/2.%E5%A4%A7%E6%95%B0%E6%8D%AE/18.Hadoop%E5%A4%A7%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86/" title="Hadoop大数据处理"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/%E5%9B%BE%E7%89%87/016.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Hadoop大数据处理"/></a><div class="content"><a class="title" href="/2023/11/18/1.%E8%AE%A1%E7%AE%97%E6%9C%BA/2.%E5%A4%A7%E6%95%B0%E6%8D%AE/18.Hadoop%E5%A4%A7%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86/" title="Hadoop大数据处理">Hadoop大数据处理</a><time datetime="2023-11-18T15:16:12.000Z" title="发表于 2023-11-18 23:16:12">2023-11-18</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/11/07/1.%E8%AE%A1%E7%AE%97%E6%9C%BA/3.%E8%87%AA%E5%AD%A6/1.Crash%20Course%20Computer%20Science/" title="Crash Course Computer Science"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/%E5%9B%BE%E7%89%87/012.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Crash Course Computer Science"/></a><div class="content"><a class="title" href="/2023/11/07/1.%E8%AE%A1%E7%AE%97%E6%9C%BA/3.%E8%87%AA%E5%AD%A6/1.Crash%20Course%20Computer%20Science/" title="Crash Course Computer Science">Crash Course Computer Science</a><time datetime="2023-11-07T03:53:42.000Z" title="发表于 2023-11-07 11:53:42">2023-11-07</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/11/04/3.%E6%97%A5%E5%B8%B8/1.%E9%80%BB%E8%BE%91%E6%80%9D%E8%80%83/1.%E5%B9%BB%E6%83%B3%E5%A5%87%E6%9C%AF%E5%B8%88/" title="幻想奇术师"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/%E5%9B%BE%E7%89%87/015.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="幻想奇术师"/></a><div class="content"><a class="title" href="/2023/11/04/3.%E6%97%A5%E5%B8%B8/1.%E9%80%BB%E8%BE%91%E6%80%9D%E8%80%83/1.%E5%B9%BB%E6%83%B3%E5%A5%87%E6%9C%AF%E5%B8%88/" title="幻想奇术师">幻想奇术师</a><time datetime="2023-11-04T15:16:12.000Z" title="发表于 2023-11-04 23:16:12">2023-11-04</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/11/03/2.DIY/1.%E7%BD%91%E9%A1%B5%E6%90%AD%E5%BB%BA/1.%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/" title="零成本博客搭建"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/%E5%9B%BE%E7%89%87/013.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="零成本博客搭建"/></a><div class="content"><a class="title" href="/2023/11/03/2.DIY/1.%E7%BD%91%E9%A1%B5%E6%90%AD%E5%BB%BA/1.%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/" title="零成本博客搭建">零成本博客搭建</a><time datetime="2023-11-03T03:46:12.000Z" title="发表于 2023-11-03 11:46:12">2023-11-03</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2023 By HQH</div><div class="footer_custom_text">Hi,welcome to my blog!</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script>function panguFn () {
  if (typeof pangu === 'object') pangu.autoSpacingPage()
  else {
    getScript('https://cdn.jsdelivr.net/npm/pangu/dist/browser/pangu.min.js')
      .then(() => {
        pangu.autoSpacingPage()
      })
  }
}

function panguInit () {
  if (false){
    GLOBAL_CONFIG_SITE.isPost && panguFn()
  } else {
    panguFn()
  }
}

document.addEventListener('DOMContentLoaded', panguInit)</script><div class="js-pjax"></div><script defer src="/js/cursor.js"></script><canvas class="fireworks" mobile="false"></canvas><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/fireworks.min.js"></script><script id="canvas_nest" defer="defer" color="0,0,255" opacity="0.7" zIndex="-1" count="30" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-nest.min.js"></script><script id="click-show-text" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/click-show-text.min.js" data-mobile="false" data-text="别卷了,别睡了,干饭了" data-fontsize="15px" data-random="false" async="async"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></div><!-- hexo injector body_end start --><script data-pjax>
  function butterfly_footer_beautify_injector_config(){
    var parent_div_git = document.getElementById('footer-wrap');
    var item_html = '<div id="workboard"></div><p id="ghbdages"><a class="github-badge" target="_blank" href="https://hexo.io/" style="margin-inline:5px" data-title="博客框架为Hexo_v6.2.0" title=""><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.shields.io/badge/Frame-Hexo-blue?style=flat&amp;logo=hexo" alt=""/></a><a class="github-badge" target="_blank" href="https://butterfly.js.org/" style="margin-inline:5px" data-title="主题版本Butterfly_v4.3.1" title=""><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.shields.io/badge/Theme-Butterfly-6513df?style=flat&amp;logo=bitdefender" alt=""/></a><a class="github-badge" target="_blank" href="https://vercel.com/" style="margin-inline:5px" data-title="本站采用多线部署，主线路托管于Vercel" title=""><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.shields.io/badge/Hosted-Vercel-brightgreen?style=flat&amp;logo=Vercel" alt=""/></a><a class="github-badge" target="_blank" href="https://dashboard.4everland.org/" style="margin-inline:5px" data-title="本站采用多线部署，备用线路托管于4EVERLAND" title=""><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.shields.io/badge/Hosted-4EVERLAND-22DDDD?style=flat&amp;logo=IPFS" alt=""/></a><a class="github-badge" target="_blank" href="https://github.com/" style="margin-inline:5px" data-title="本站项目由Github托管" title=""><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.shields.io/badge/Source-Github-d021d6?style=flat&amp;logo=GitHub" alt=""/></a><a class="github-badge" target="_blank" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" style="margin-inline:5px" data-title="本站采用知识共享署名-非商业性使用-相同方式共享4.0国际许可协议进行许可" title=""><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.shields.io/badge/Copyright-BY--NC--SA%204.0-d42328?style=flat&amp;logo=Claris" alt=""/></a></p>';
    console.log('已挂载butterfly_footer_beautify')
    parent_div_git.insertAdjacentHTML("beforeend",item_html)
    }
  var elist = 'null'.split(',');
  var cpage = location.pathname;
  var epage = 'all';
  var flag = 0;

  for (var i=0;i<elist.length;i++){
    if (cpage.includes(elist[i])){
      flag++;
    }
  }

  if ((epage ==='all')&&(flag == 0)){
    butterfly_footer_beautify_injector_config();
  }
  else if (epage === cpage){
    butterfly_footer_beautify_injector_config();
  }
  </script><script async src="/js/runtime.js"></script><div class="js-pjax"><script async="async">var arr = document.getElementsByClassName('recent-post-item');
for(var i = 0;i<arr.length;i++){
    arr[i].classList.add('wow');
    arr[i].classList.add('animate__zoomIn');
    arr[i].setAttribute('data-wow-duration', '2s');
    arr[i].setAttribute('data-wow-delay', '1s');
    arr[i].setAttribute('data-wow-offset', '100');
    arr[i].setAttribute('data-wow-iteration', '1');
  }</script><script async="async">var arr = document.getElementsByClassName('card-widget');
for(var i = 0;i<arr.length;i++){
    arr[i].classList.add('wow');
    arr[i].classList.add('animate__zoomIn');
    arr[i].setAttribute('data-wow-duration', '');
    arr[i].setAttribute('data-wow-delay', '');
    arr[i].setAttribute('data-wow-offset', '');
    arr[i].setAttribute('data-wow-iteration', '');
  }</script></div><script defer src="https://npm.elemecdn.com/hexo-butterfly-wowjs/lib/wow.min.js"></script><script defer src="https://npm.elemecdn.com/hexo-butterfly-wowjs/lib/wow_init.js"></script><!-- hexo injector body_end end --></body></html>